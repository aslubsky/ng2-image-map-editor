!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ng2-image-map-editor",["exports","@angular/core","@angular/forms"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ng2-image-map-editor"]={},t.ng.core,t.ng.forms)}(this,(function(t,e,s){"use strict";var i=function(){function t(){}return t.getOffset=function(t){var e=t.getBoundingClientRect();return{x:Math.round(e.left+window.pageXOffset),y:Math.round(e.top+window.pageYOffset)}},t.getRightCoords=function(e,s){return{x:e-t.app.getOffset("x"),y:s-t.app.getOffset("y")}},t.id=function(t){return document.getElementById(t)},t.hide=function(t){return t.style.display="none",this},t.show=function(t){return t.style.display="block",this},t.encode=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.foreach=function(t,e){for(var s=0,i=t.length;s<i;s++)e(t[s],s)},t.foreachReverse=function(t,e){for(var s=t.length-1;s>=0;s--)e(t[s],s)},t.stopEvent=function(t){return t.stopPropagation(),t.preventDefault(),this},t}(),n=function(){function t(){this.block=i.id("help"),this.overlay=i.id("overlay"),this.close_button=this.block.querySelector(".close_button"),this.overlay.addEventListener("click",this.hide.bind(this),!1),this.close_button.addEventListener("click",this.hide.bind(this),!1)}return t.prototype.hide=function(){i.hide(this.block),i.hide(this.overlay)},t.prototype.show=function(){i.show(this.block),i.show(this.overlay)},t}(),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)};function a(t,e){function s(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var o=function(){function t(e,s){this.type=s,this.attributes={href:"",alt:"",title:""},this._params={},this._groupEl=document.createElementNS(t.SVG_NS,"g"),t.app.addNodeToSvg(this._groupEl),this._groupEl.obj=this,this._el=null,this._helpers={}}return t.prototype.testCoords=function(){throw new Error("This is abstract method")},t.prototype.setCoords=function(t){throw new Error("This is abstract method")},t.prototype.redraw=function(t){throw new Error("This is abstract method")},t.prototype.remove=function(){t.app.removeNodeFromSvg(this._groupEl)},t.prototype.select=function(){return this._el.classList.add(t.CLASS_NAMES.SELECTED),this},t.prototype.deselect=function(){return this._el.classList.remove(t.CLASS_NAMES.SELECTED),this},t.prototype.with_href=function(){return this._el.classList.add(t.CLASS_NAMES.WITH_HREF),this},t.prototype.without_href=function(){return this._el.classList.remove(t.CLASS_NAMES.WITH_HREF),this},t.prototype.setInfoAttributes=function(t){t.href&&(this.attributes.href=t.href),t.alt&&(this.attributes.alt=t.alt),t.title&&(this.attributes.title=t.title)},t.prototype.toJSON=function(){return{coords:this._params,attributes:this.attributes}},t}();o.SVG_NS="http://www.w3.org/2000/svg",o.HTML="http://www.w3.org/1999/xhtml",o.CLASS_NAMES={SELECTED:"selected",WITH_HREF:"with_href"};var d=function(){function t(e,s,i,n){this._el="number"==n?document.createElementNS(o.SVG_NS,"text"):document.createElementNS(o.SVG_NS,"rect"),this._el.classList.add(t.CLASS_NAME),"number"==n?(this._el.setAttribute("height",t.SIZENum),this._el.setAttribute("width",t.SIZENum),this._el.setAttribute("x",s+t.OFFSET),this._el.setAttribute("y",i+t.OFFSET)):(this._el.setAttribute("height",t.SIZE),this._el.setAttribute("width",t.SIZE),this._el.setAttribute("x",s+t.OFFSET),this._el.setAttribute("y",i+t.OFFSET)),e.appendChild(this._el),this._el.action=n,this._el.classList.add(t.ACTIONS_TO_CURSORS[n])}return t.prototype.setCoords=function(e,s){return this._el.setAttribute("x",e+t.OFFSET),this._el.setAttribute("y",s+t.OFFSET),this},t.prototype.setNumber=function(t){this._el.textContent=t+1},t.prototype.setId=function(t){return this._el.n=t,this},t}();d.SIZE=5,d.SIZENum=15,d.OFFSET=-Math.ceil(d.SIZE/2),d.CLASS_NAME="helper",d.ACTIONS_TO_CURSORS={move:"move",editLeft:"e-resize",editRight:"w-resize",editTop:"n-resize",editBottom:"s-resize",editTopLeft:"nw-resize",editTopRight:"ne-resize",editBottomLeft:"sw-resize",editBottomRight:"se-resize",pointMove:"pointer",number:"default"};var l=function(t){function e(e,s){var i=t.call(this,e,"rectangle")||this;i._params={x:e.x,y:e.y,width:0,height:0},i._el=document.createElementNS(o.SVG_NS,"rect"),i._groupEl.appendChild(i._el);var n=e.x-i._params.width/2,r=e.y-i._params.height/2;return i._helpers={number:new d(i._groupEl,n,r,"number"),center:new d(i._groupEl,n,r,"move"),top:new d(i._groupEl,n,r,"editTop"),bottom:new d(i._groupEl,n,r,"editBottom"),left:new d(i._groupEl,n,r,"editLeft"),right:new d(i._groupEl,n,r,"editRight"),topLeft:new d(i._groupEl,n,r,"editTopLeft"),topRight:new d(i._groupEl,n,r,"editTopRight"),bottomLeft:new d(i._groupEl,n,r,"editBottomLeft"),bottomRight:new d(i._groupEl,n,r,"editBottomRight")},i._helpers.number.setNumber(e.n),i.select().redraw(),o.app.addObject(i),i}return a(e,t),e.prototype.setSVGAttributes=function(t){this._el.setAttribute("x",t.x),this._el.setAttribute("y",t.y),this._el.setAttribute("width",t.width),this._el.setAttribute("height",t.height);var e=t.y,s=t.y+t.height/2,i=t.y+t.height,n=t.x,r=t.x+t.width/2,a=t.x+t.width;return this._helpers.number.setCoords(n,e-5),this._helpers.center.setCoords(r,s),this._helpers.top.setCoords(r,e),this._helpers.bottom.setCoords(r,i),this._helpers.left.setCoords(n,s),this._helpers.right.setCoords(a,s),this._helpers.topLeft.setCoords(n,e),this._helpers.topRight.setCoords(a,e),this._helpers.bottomLeft.setCoords(n,i),this._helpers.bottomRight.setCoords(a,i),this},e.prototype.redraw=function(t){return this.setSVGAttributes(t||this._params),this},e.prototype.setParams=function(t){return this._params.x=t.x,this._params.y=t.y,this._params.width=t.width,this._params.height=t.height,this},e.prototype.getNormalizedCoords=function(){},e.prototype.dynamicDraw=function(t,e,s){var i,n,r,a,o,d,l=this._params.x,p=this._params.y;return r=Math.abs(t-l),a=Math.abs(e-p),s&&((o=r-a)>0?r=a:a=r),l>t?(i=t,s&&o>0&&(i=t+Math.abs(o))):i=l,p>e?(n=e,s&&o<0&&(n=e+Math.abs(o))):n=p,d={x:i,y:n,width:r,height:a},this.setSVGAttributes(d),d},e.prototype.onProcessDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);this.dynamicDraw(e.x,e.y,t.shiftKey)},e.prototype.onStopDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);this.setParams(this.dynamicDraw(e.x,e.y,t.shiftKey)).deselect(),o.app.removeAllEvents().setIsDraw(!1).resetNewArea()},e.prototype.move=function(t,e){var s=Object.create(this._params);return s.x+=t,s.y+=e,s},e.prototype.edit=function(t,e,s){var i=Object.assign({},this._params);switch(t){case"move":i.x+=e,i.y+=s;break;case"editLeft":i.x+=e,i.width-=e;break;case"editRight":i.width+=e;break;case"editTop":i.y+=s,i.height-=s;break;case"editBottom":i.height+=s;break;case"editTopLeft":i.x+=e,i.y+=s,i.width-=e,i.height-=s;break;case"editTopRight":i.y+=s,i.width+=e,i.height-=s;break;case"editBottomLeft":i.x+=e,i.width-=e,i.height+=s;break;case"editBottomRight":i.width+=e,i.height+=s}return i},e.prototype.dynamicEdit=function(t,e){if(t.width<0&&(t.width=Math.abs(t.width),t.x-=t.width),t.height<0&&(t.height=Math.abs(t.height),t.y-=t.height),e){var s=this._params.width/this._params.height,i=t.width/t.height-s;this._params.x,this._params.y,t.x,t.y;i>0?t.width=Math.round(t.height*s):t.height=Math.round(t.width/s)}return this.setSVGAttributes(t),t},e.prototype.onProcessEditing=function(t){return this.dynamicEdit(this.edit(o.app.getEditType(),t.pageX-this.delta.x,t.pageY-this.delta.y),t.shiftKey)},e.prototype.onStopEditing=function(t){this.setParams(this.onProcessEditing(t)),o.app.removeAllEvents().setIsDraw(!1).resetNewArea()},e.prototype.toString=function(){var t=this._params.x+this._params.width,e=this._params.y+this._params.height;return'<area shape="rect" coords="'+this._params.x+", "+this._params.y+", "+t+", "+e+'"'+(this.href?' href="'+this.href+'"':"")+(this.alt?' alt="'+this.alt+'"':"")+(this.title?' title="'+this.title+'"':"")+" />"},e.prototype.toJSON=function(){return{type:"rectangle",coords:[this._params.x,this._params.y,this._params.x+this._params.width,this._params.y+this._params.height],href:this.attributes.href,alt:this.attributes.alt,title:this.attributes.title}},e.testCoords=function(t){return 4===t.length},e.createFromSaved=function(t){if(this.testCoords(t.coords)){o.app.setIsDraw(!0);var s=new e({x:t.coords[0],y:t.coords[1],n:t.number});s.setParams(s.dynamicDraw(t.coords[2],t.coords[3])).deselect(),o.app.setIsDraw(!1).resetNewArea(),s.setInfoAttributes(t)}},e.createAndStartDrawing=function(t){t.n=o.app.getAreas().length;var s=new e(t);return o.app.addEvent(o.app.domElements.container,"mousemove",s.onProcessDrawing.bind(s)).addEvent(o.app.domElements.container,"click",s.onStopDrawing.bind(s)),s},e}(o),p=function(t){function e(e,s){var i=t.call(this,e,"circle")||this;return i._params={cx:e.x,cy:e.y,radius:0},i._el=document.createElementNS(o.SVG_NS,"circle"),i._groupEl.appendChild(i._el),i._helpers={number:new d(i._groupEl,e.x,e.y,"number"),center:new d(i._groupEl,e.x,e.y,"move"),top:new d(i._groupEl,e.x,e.y,"editTop"),bottom:new d(i._groupEl,e.x,e.y,"editBottom"),left:new d(i._groupEl,e.x,e.y,"editLeft"),right:new d(i._groupEl,e.x,e.y,"editRight")},i._helpers.number.setNumber(e.n),i.select().redraw(),o.app.addObject(i),i}return a(e,t),e.prototype.setSVGAttributes=function(t){return this._el.setAttribute("cx",t.cx),this._el.setAttribute("cy",t.cy),this._el.setAttribute("r",t.radius),this._helpers.number.setCoords(t.cx,t.cy-t.radius-5),this._helpers.center.setCoords(t.cx,t.cy),this._helpers.top.setCoords(t.cx,t.cy-t.radius),this._helpers.right.setCoords(t.cx+t.radius,t.cy),this._helpers.bottom.setCoords(t.cx,t.cy+t.radius),this._helpers.left.setCoords(t.cx-t.radius,t.cy),this},e.prototype.setParams=function(t){return this._params.cx=t.cx,this._params.cy=t.cy,this._params.radius=t.radius,this},e.prototype.dynamicDraw=function(t,e){var s,i,n,r=this._params.cx,a=this._params.cy;return t=t||r,e=e||a,s=Math.abs(r-t),i=Math.abs(a-e),n={cx:r,cy:a,radius:Math.round(Math.sqrt(s*s+i*i))},this.setSVGAttributes(n),n},e.prototype.onProcessDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);this.dynamicDraw(e.x,e.y)},e.prototype.onStopDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);this.setParams(this.dynamicDraw(e.x,e.y)).deselect(),o.app.removeAllEvents().setIsDraw(!1).resetNewArea()},e.prototype.edit=function(t,e,s){var i=Object.assign({},this._params);switch(t){case"move":i.cx+=e,i.cy+=s;break;case"editTop":i.radius-=s;break;case"editBottom":i.radius+=s;break;case"editLeft":i.radius-=e;break;case"editRight":i.radius+=e}return i},e.prototype.move=function(t,e){var s=Object.create(this._params);return s.cx+=t,s.cy+=e,s},e.prototype.dynamicEdit=function(t){return t.radius<0&&(t.radius=Math.abs(t.radius)),this.setSVGAttributes(t),t},e.prototype.onProcessEditing=function(t){var e=o.app.getEditType();this.dynamicEdit(this.edit(e,t.pageX-this.delta.x,t.pageY-this.delta.y))},e.prototype.onStopEditing=function(t){var e=o.app.getEditType();this.setParams(this.dynamicEdit(this.edit(e,t.pageX-this.delta.x,t.pageY-this.delta.y))),o.app.removeAllEvents()},e.prototype.toString=function(){return'<area shape="circle" coords="'+this._params.cx+", "+this._params.cy+", "+this._params.radius+'"'+(this.href?' href="'+this.href+'"':"")+(this.alt?' alt="'+this.alt+'"':"")+(this.title?' title="'+this.title+'"':"")+" />"},e.testCoords=function(t){return 3===t.length},e.createFromSaved=function(t){if(this.testCoords(t.coords)){o.app.setIsDraw(!0);var s=new e({x:t.coords[0],y:t.coords[1],n:t.number});s.setParams(s.dynamicDraw(t.coords[0],t.coords[1]+t.coords[2])).deselect(),o.app.setIsDraw(!1).resetNewArea(),s.setInfoAttributes(t)}},e.prototype.toJSON=function(){return{type:"circle",coords:[this._params.cx,this._params.cy,this._params.radius],href:this.attributes.href,alt:this.attributes.alt,title:this.attributes.title}},e.prototype.redraw=function(t){return this.setSVGAttributes(t||this._params),this},e.createAndStartDrawing=function(t){t.n=o.app.getAreas().length;var s=new e(t);return o.app.addEvent(o.app.domElements.container,"mousemove",s.onProcessDrawing.bind(s)).addEvent(o.app.domElements.container,"click",s.onStopDrawing.bind(s)),s},e}(o),h=function(t){function e(e,s){var i=t.call(this,e,"polygon")||this;return i._params={points:[e.x,e.y]},i._el=document.createElementNS(o.SVG_NS,"polyline"),i._groupEl.appendChild(i._el),i._helpers=[new d(i._groupEl,i._params.points[0],i._params.points[1],"number"),new d(i._groupEl,i._params.points[0],i._params.points[1],"pointMove").setId(1)],i._helpers[0].setNumber(e.n),i.selected_point=-1,i.select().redraw(),o.app.addObject(i),i}return a(e,t),e.prototype.setCoords=function(t){var e=t.points.join(" ");return this._el.setAttribute("points",e),i.foreach(this._helpers,(function(e,s){"number"==e._el.action?e.setCoords(t.points[0],t.points[1]):(s-=1,e.setCoords(t.points[2*s],t.points[2*s+1]))})),this},e.prototype.setSVGAttributes=function(t){var e=t.points.join(" ");return this._el.setAttribute("points",e),i.foreach(this._helpers,(function(e,s){"number"==e._el.action?e.setCoords(t.points[0],t.points[1]):(s-=1,e.setCoords(t.points[2*s],t.points[2*s+1]))})),this},e.prototype.setParams=function(t){return t.isArray?this._params.points=Array.prototype.slice.call(t):this._params.points=Array.prototype.slice.call(t.points),this},e.prototype.addPoint=function(t,e){var s=new d(this._groupEl,t,e,"pointMove");return s.setId(this._helpers.length),this._helpers.push(s),this._params.points.push(t,e),this.redraw(),this},e.prototype.right_angle=function(t,e){var s=this._params.points[this._params.points.length-2],i=this._params.points[this._params.points.length-1],n=t-s,r=-(e-i),a=r/n;return n>0&&r>0?a>2.414?t=s:a<.414?e=i:Math.abs(n)>Math.abs(r)?t=s+r:e=i-n:n<0&&r>0?a<-2.414?t=s:a>-.414?e=i:Math.abs(n)>Math.abs(r)?t=s-r:e=i+n:n<0&&r<0?a>2.414?t=s:a<.414?e=i:Math.abs(n)>Math.abs(r)?t=s+r:e=i-n:n>0&&r<0&&(a<-2.414?t=s:a>-.414?e=i:Math.abs(n)>Math.abs(r)?t=s-r:e=i+n),{x:t,y:e}},e.prototype.dynamicDraw=function(t,e,s){var i={points:[].concat(this._params.points)};if(s){var n=this.right_angle(t,e);t=n.x,e=n.y}return i.points.push(t,e),this.redraw(i),i},e.prototype.onProcessDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);this.dynamicDraw(e.x,e.y,t.shiftKey)},e.prototype.onAddPointDrawing=function(t){var e=i.getRightCoords(t.pageX,t.pageY);t.shiftKey&&(e=this.right_angle(e.x,e.y)),this.addPoint(e.x,e.y)},e.prototype.onStopDrawing=function(t){("click"==t.type||"keydown"==t.type&&13==t.keyCode)&&this._params.points.length>=6&&(this._polyline=this._el,this._el=document.createElementNS(o.SVG_NS,"polygon"),this._groupEl.replaceChild(this._el,this._polyline),this.redraw(this._params).deselect(),delete this._polyline,o.app.removeAllEvents().setIsDraw(!1).resetNewArea()),t.stopPropagation()},e.prototype.redraw=function(t){return this.setSVGAttributes(t||this._params),this},e.prototype.move=function(t,e){for(var s=this._params,i=0,n=this._params.points.length;i<n;i++)this._params.points[i]+=i%2?e:t;return s},e.prototype.pointMove=function(t,e){return 1==this.selected_point?(this._params.points[0]+=t,this._params.points[1]+=e):(this._params.points[2*this.selected_point-2]+=t,this._params.points[2*this.selected_point-1]+=e),this._params},e.prototype.dynamicEdit=function(t){return this.setCoords(t),t},e.prototype.onProcessEditing=function(t){var e=o.app.getEditType();"function"==typeof this[e]&&(this.dynamicEdit(this[e](t.pageX-this.delta.x,t.pageY-this.delta.y)),this.delta.x=t.pageX,this.delta.y=t.pageY)},e.prototype.onStopEditing=function(t){var e=o.app.getEditType();this.setParams(this.dynamicEdit(this[e](t.pageX-this.delta.x,t.pageY-this.delta.y))),o.app.removeAllEvents()},e.prototype.toString=function(){for(var t=0,e=this._params.points.length,s="";t<e;t++)s+=this._params.points[t],t!=e-1&&(s+=", ");return'<area shape="poly" coords="'+s+'"'+(this.href?' href="'+this.href+'"':"")+(this.alt?' alt="'+this.alt+'"':"")+(this.title?' title="'+this.title+'"':"")+" />"},e.testCoords=function(t){return t.length>=6&&t.length%2==0},e.createFromSaved=function(t){if(this.testCoords(t.coords)){o.app.setIsDraw(!0);for(var s=new e({x:t.coords[0],y:t.coords[1],n:t.number}),i=2,n=t.coords.length;i<n;i+=2)s.addPoint(t.coords[i],t.coords[i+1]);s._polyline=s._el,s._el=document.createElementNS(o.SVG_NS,"polygon"),s._groupEl.replaceChild(s._el,s._polyline),s.setCoords(s._params).deselect(),delete s._polyline,o.app.setIsDraw(!1).resetNewArea(),s.setInfoAttributes(t)}},e.createAndStartDrawing=function(t){t.n=o.app.getAreas().length;var s=new e(t);return o.app.addEvent(o.app.domElements.container,"mousemove",s.onProcessDrawing.bind(s)).addEvent(o.app.domElements.container,"click",s.onAddPointDrawing.bind(s)).addEvent(document,"keydown",s.onStopDrawing.bind(s)).addEvent(s._helpers[0]._el,"click",s.onStopDrawing.bind(s)),s},e.prototype.toJSON=function(){return{type:"polygon",coords:this._params.points,href:this.attributes.href,alt:this.attributes.alt,title:this.attributes.title}},e}(o),c=function(){};c.CONSTRUCTORS={rectangle:l,circle:p,polygon:h};var m=function(){function t(t,e,s){this.target=t,this.eventType=e,this.func=s,t.addEventListener(e,s,!1)}return t.prototype.remove=function(){this.target.removeEventListener(this.eventType,this.func,!1)},t}(),u=function(){function t(t){this.app=t,this.all=i.id("nav").getElementsByTagName("li"),this.rectangle=i.id("rectangle"),this.circle=i.id("circle"),this.polygon=i.id("polygon"),this.edit=i.id("edit"),this.clear=i.id("clear"),this.to_html=i.id("to_html"),this.show_help=i.id("show_help"),this.rectangle.addEventListener("click",this.onShapeButtonClick.bind(this),!1),this.circle.addEventListener("click",this.onShapeButtonClick.bind(this),!1),this.polygon.addEventListener("click",this.onShapeButtonClick.bind(this),!1),this.clear.addEventListener("click",this.onClearButtonClick.bind(this),!1),this.to_html.addEventListener("click",this.onToHtmlButtonClick.bind(this),!1),this.edit.addEventListener("click",this.onEditButtonClick.bind(this),!1),this.show_help.addEventListener("click",this.onShowHelpButtonClick.bind(this),!1)}return t.prototype.deselectAll=function(){i.foreach(this.all,(function(t){t.classList.remove(o.CLASS_NAMES.SELECTED)}))},t.prototype.selectOne=function(t){this.deselectAll(),t.classList.add(o.CLASS_NAMES.SELECTED)},t.prototype.onShapeButtonClick=function(t){t.preventDefault();var e=t.target.id?t.target:t.target.parentNode;this.onSetInvalid(),this.app.setMode("drawing").setDrawClass().setShape(e.id).deselectAll().hidePreview(),this.selectOne(e)},t.prototype.onClearButtonClick=function(t){t.preventDefault(),confirm("Clear all?")&&(this.onSetInvalid(),this.app.setMode(null).setDefaultClass().setShape(null).clear().hidePreview(),this.deselectAll())},t.prototype.onToHtmlButtonClick=function(t){var e=this.app.getAreas(),s=1;s=this.app.state.image.width>this.app.domElements.img.clientWidth?Number((this.app.state.image.width/this.app.domElements.img.clientWidth).toFixed(3)):1;var i=[];e.forEach((function(t,e,n){var r=t.toJSON();r.coords.forEach((function(t,e,i){r.coords[e]=Math.round(t*s)})),i.push({body:t.attributes.title,is_right:"1"==t.attributes.alt,img_map:JSON.stringify(r)})})),this.onData(i,this.app.getAreasJSON(s)),t.preventDefault()},t.prototype.onEditButtonClick=function(t){t.preventDefault(),this.onSetInvalid(),"editing"===this.app.getMode()?(this.app.setMode(null).setDefaultClass().deselectAll(),this.deselectAll(),i.show(this.app.domElements.svg)):(this.app.setShape(null).setMode("editing").setEditClass(),this.selectOne(this.edit)),this.app.hidePreview()},t.prototype.onData=function(t,e){},t.prototype.onSetInvalid=function(){},t.prototype.onShowHelpButtonClick=function(t){this.app.help.show(),t.preventDefault()},t}(),g=function(){function t(){this._coords_info=i.id("coords")}return t.prototype.set=function(t){this._coords_info.innerHTML="x: "+t.x+", y: "+t.y},t.prototype.empty=function(){this._coords_info.innerHTML=""},t}(),f=function(){function t(){var t=this;this.domElements={wrapper:i.id("wrapper"),svg:i.id("svg"),img:i.id("img"),container:i.id("image"),map:null,editor:i.id("editor")},this.img=i.id("img"),this.state={offset:{x:0,y:0},appMode:null,currentType:null,editType:null,newArea:null,selectedArea:null,areas:[],events:[],isDraw:!1,image:{src:null,filename:null,width:0,height:0}},this.help=new n,this.filename=null,window.addEventListener("resize",this.recalcOffsetValues.bind(this),!1),this.domElements.container.addEventListener("mousedown",(function(t){t.preventDefault()}),!1),this.domElements.img.addEventListener("dragstart",(function(t){t.preventDefault()}),!1),this.cursor_position_info=new g,this.domElements.container.addEventListener("mousemove",(function(e){t.cursor_position_info.set(i.getRightCoords(e.pageX,e.pageY))}),!1),this.domElements.container.addEventListener("mouseleave",(function(){t.cursor_position_info.empty()}),!1),this.domElements.container.addEventListener("mousedown",this.onSvgMousedown.bind(this),!1),this.domElements.container.addEventListener("click",this.onSvgClick.bind(this),!1),this.domElements.container.addEventListener("dblclick",this.onAreaDblClick.bind(this),!1),this.domElements.editor.addEventListener("keydown",this.onDocumentKeyDown.bind(this),!1),this.buttons=new u(this)}return t.prototype.recalcOffsetValues=function(){this.state.offset=i.getOffset(this.domElements.container)},t.prototype.onSvgMousedown=function(t){if("editing"===this.state.appMode)if("g"===t.target.parentNode.tagName)if(this.state.selectedArea=t.target.parentNode.obj,this.deselectAll(),this.state.selectedArea.select(),this.state.selectedArea.delta={x:t.pageX,y:t.pageY},t.target.classList.contains("helper")){var e=t.target;this.state.editType=e.action,e.n>=0&&(this.state.selectedArea.selected_point=e.n),this.addEvent(this.domElements.container,"mousemove",this.state.selectedArea.onProcessEditing.bind(this.state.selectedArea)).addEvent(this.domElements.container,"mouseup",this.state.selectedArea.onStopEditing.bind(this.state.selectedArea))}else"rect"!==t.target.tagName&&"circle"!==t.target.tagName&&"polygon"!==t.target.tagName||(this.state.editType="move",this.addEvent(this.domElements.container,"mousemove",this.state.selectedArea.onProcessEditing.bind(this.state.selectedArea)).addEvent(this.domElements.container,"mouseup",this.state.selectedArea.onStopEditing.bind(this.state.selectedArea)));else this.deselectAll()},t.prototype.onSvgClick=function(t){"drawing"===this.state.appMode&&!this.state.isDraw&&this.state.currentType&&(this.setIsDraw(!0),this.state.newArea=c.CONSTRUCTORS[this.state.currentType].createAndStartDrawing(i.getRightCoords(t.pageX,t.pageY)))},t.prototype.onAreaDblClick=function(t){"editing"===this.state.appMode&&("rect"!==t.target.tagName&&"circle"!==t.target.tagName&&"polygon"!==t.target.tagName||(this.state.selectedArea=t.target.parentNode.obj))},t.prototype.onDocumentKeyDown=function(e){var s=e.ctrlKey||e.metaKey;switch(e.keyCode){case t.KEYS.F1:this.help.show(),e.preventDefault();break;case t.KEYS.ESC:this.help.hide(),this.state.isDraw?(this.state.isDraw=!1,this.state.newArea.remove(),this.state.areas.pop(),this.removeAllEvents()):"editing"===this.state.appMode&&(this.state.selectedArea.redraw(),this.removeAllEvents());break;case t.KEYS.TOP:"editing"===this.state.appMode&&this.state.selectedArea&&(this.state.selectedArea.setParams(this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(0,-1))),e.preventDefault());break;case t.KEYS.BOTTOM:"editing"===this.state.appMode&&this.state.selectedArea&&(this.state.selectedArea.setParams(this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(0,1))),e.preventDefault());break;case t.KEYS.LEFT:"editing"===this.state.appMode&&this.state.selectedArea&&(this.state.selectedArea.setParams(this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(-1,0))),e.preventDefault());break;case t.KEYS.RIGHT:"editing"===this.state.appMode&&this.state.selectedArea&&(this.state.selectedArea.setParams(this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(1,0))),e.preventDefault());break;case t.KEYS.DELETE:"editing"===this.state.appMode&&this.state.selectedArea&&(this.removeObject(this.state.selectedArea),this.state.selectedArea=null);break;case t.KEYS.I:if("editing"===this.state.appMode&&this.state.selectedArea){var i=this.state.selectedArea.params;i.x||i.cx||i[0],i.y||i.cy||i[1]}break;case t.KEYS.C:if("editing"===this.state.appMode&&this.state.selectedArea&&s){var n=c.CONSTRUCTORS[r.type],r=this.state.selectedArea.toJSON();n&&(n.createFromSaved(r),this.state.selectedArea.setParams(this.state.selectedArea.move(10,10)),this.state.selectedArea.redraw())}}},t.prototype.hide=function(){return i.hide(this.domElements.container),this},t.prototype.show=function(){return i.show(this.domElements.container),this},t.prototype.setDimensions=function(t,e){return this.domElements.svg.setAttribute("width",t),this.domElements.svg.setAttribute("height",e),this.domElements.container.style.width=t+"px",this.domElements.container.style.height=e+"px",this},t.prototype.onImageLoaded=function(t){},t.prototype.loadImage=function(t,e){var s=this;this.domElements.img.src=t,this.state.image.src=t,this.state.image.width=e;var i=t.split("/");return this.filename=i[i.length-1],this.domElements.img.onload=function(){s.show().setDimensions(s.domElements.img.width,s.domElements.img.height).recalcOffsetValues(),s.onImageLoaded(s.state)},this.setFilename(this.filename),this.preview(),this},t.prototype.preview=function(){this.domElements.img.setAttribute("usemap","#map"),this.domElements.map=document.createElement("map"),this.domElements.map.setAttribute("name","map"),this.domElements.container.appendChild(this.domElements.map)},t.prototype.hidePreview=function(){return i.show(this.domElements.svg),this.domElements.map.innerHTML="",this},t.prototype.addNodeToSvg=function(t){return this.domElements.svg.appendChild(t),this},t.prototype.removeNodeFromSvg=function(t){return this.domElements.svg.removeChild(t),this},t.prototype.getOffset=function(t){switch(t){case"x":case"y":return this.state.offset[t]}},t.prototype.clear=function(){for(this.state.areas.length=0;this.domElements.svg.childNodes[0];)this.domElements.svg.removeChild(this.domElements.svg.childNodes[0]);return this},t.prototype.removeObject=function(t){var e=this;return i.foreach(this.state.areas,(function(s,i){s===t&&e.state.areas.splice(i,1)})),t.remove(),this.state.areas.forEach((function(t,e){switch(t.type){case"rectangle":t._helpers.number.setNumber(e);break;case"polygon":t._helpers[0].setNumber(e);break;case"circle":t._helpers.number.setNumber(e)}})),this},t.prototype.deselectAll=function(){return i.foreach(this.state.areas,(function(t){t.deselect()})),this},t.prototype.getIsDraw=function(){return this.state.isDraw},t.prototype.setIsDraw=function(t){return this.state.isDraw=t,this},t.prototype.setMode=function(t){return this.onSetMode(t),this.state.appMode=t,this},t.prototype.getMode=function(){return this.state.appMode},t.prototype.onSetMode=function(t){},t.prototype.onCurrentType=function(t){},t.prototype.setShape=function(t){return this.state.currentType=t,this.onCurrentType(t),this},t.prototype.getShape=function(){return this.state.currentType},t.prototype.addObject=function(t){return this.state.areas.push(t),this},t.prototype.getNewArea=function(){return this.state.newArea},t.prototype.resetNewArea=function(){return this.state.newArea=null,this},t.prototype.getSelectedArea=function(){return this.state.selectedArea},t.prototype.setSelectedArea=function(t){return this.state.selectedArea=t,this},t.prototype.getEditType=function(){return this.state.editType},t.prototype.setFilename=function(t){return this.state.image.filename=t,this},t.prototype.setEditClass=function(){return this.domElements.container.classList.remove("draw"),this.domElements.container.classList.add("edit"),this},t.prototype.setDrawClass=function(){return this.domElements.container.classList.remove("edit"),this.domElements.container.classList.add("draw"),this},t.prototype.setDefaultClass=function(){return this.domElements.container.classList.remove("edit"),this.domElements.container.classList.remove("draw"),this},t.prototype.addEvent=function(t,e,s){return this.state.events.push(new m(t,e,s)),this},t.prototype.removeAllEvents=function(){return i.foreach(this.state.events,(function(t){t.remove()})),this.state.events.length=0,this},t.prototype.getAreas=function(){return this.state.areas},t.prototype.getAreasJSON=function(t){void 0===t&&(t=1);var e={areas:[],img:this.state.image.src};return i.foreach(this.state.areas,(function(s){var i=s.toJSON();"polygon"!=i.type&&i.coords.forEach((function(e,s,n){i.coords[s]=Math.round(e*t)})),e.areas.push(i)})),JSON.stringify(e)},t.prototype.getHTMLCode=function(t){var e="";if(t){if(!this.state.areas.length)return"0 objects";e+=i.encode('<img src="'+this.state.image.filename+'" alt="" usemap="#map" />')+"<br />"+i.encode('<map name="map">')+"<br />",i.foreachReverse(this.state.areas,(function(t){e+="&nbsp;&nbsp;&nbsp;&nbsp;"+i.encode(t.toString())+"<br />"})),e+=i.encode("</map>")}else i.foreachReverse(this.state.areas,(function(t){e+=t.toString()}));return e},t}();f.KEYS={F1:112,ESC:27,TOP:38,BOTTOM:40,LEFT:37,RIGHT:39,DELETE:46,I:73,S:83,C:67};var y=function(){function t(){this.answers=[],this.valid=!0,this.isEditMode=!1,this.currentType="",this.icons={rectangle:"/src/assets/img/test/rec.svg",circle:"/src/assets/img/test/cir.svg",polygon:"/src/assets/img/test/pol.svg"},this.labels={},this._loadedImage="",this.onAnswersUpdated=new e.EventEmitter,this.propagateChange=function(t){}}return t.prototype.validate=function(t){return this.valid?null:{required:!0}},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(){},t.prototype.writeValue=function(t){this._value=t,this._value&&(this._parsedValue=JSON.parse(this._value)),this._value&&this.mainImageWidth&&this.app&&this._loadedImage!=this._parsedValue.img&&(this._loadedImage=this._parsedValue.img,this.app.loadImage(this._parsedValue.img,this.mainImageWidth))},t.prototype.ngOnInit=function(){var e=this;this.labels=t.globalLabels,this.app=new f,i.app=this.app,o.app=this.app,this.app.buttons.onSetInvalid=function(){e.valid=!1,e.propagateChange([])},this.app.buttons.onData=function(t,s){e.valid=!0,e.propagateChange(s),e.answers=t,e.onAnswersUpdated.emit(t)},this.app.onCurrentType=function(t){e.currentType=t},this.app.onSetMode=function(t){e.isEditMode="editing"==t},this.app.onImageLoaded=function(t){if(e._value){var s=1;s=t.image.width>e.app.domElements.img.clientWidth?Number((t.image.width/e.app.domElements.img.clientWidth).toFixed(3)):1,e._parsedValue&&e._parsedValue.areas&&e._parsedValue.areas.forEach((function(t,i){t.type in c.CONSTRUCTORS&&(t.coords.forEach((function(e,i,n){t.coords[i]=Math.round(e/s)})),c.CONSTRUCTORS[t.type].createFromSaved({coords:t.coords,href:t.href,alt:null!=e.answers[i]&&e.answers[i].is_right?"1":"0",title:null!=e.answers[i]?e.answers[i].body:t.title,number:i}))}))}},this.mainImageSrc&&this.mainImageWidth&&this._loadedImage!=this.mainImageSrc&&(this._loadedImage=this.mainImageSrc,this.app.loadImage(this.mainImageSrc,this.mainImageWidth))},t.prototype.ngOnChanges=function(t){this.mainImageSrc&&this.mainImageWidth&&this.app&&this._loadedImage!=this.mainImageSrc&&(this._loadedImage=this.mainImageSrc,this.app.loadImage(this.mainImageSrc,this.mainImageWidth))},t}();y.globalLabels={save_answers:"Save answers",edit:"Edit",clear:"Clear",drawing_mode:"Drawing mode (rectangle / circle / polygon)",drawing_mode_enter:"stop polygon drawing (or click on first helper)",drawing_mode_esc:"cancel drawing of a new area",drawing_mode_shift:"square drawing in case of a rectangle and right angle drawing in case of a polygon",editing_mode:"Editing mode",editing_mode_delete:"remove a selected area",editing_mode_esc:"cancel editing of a selected area",editing_mode_shift:"edit and save proportions for rectangle",editing_mode_up:"move a selected area up",editing_mode_down:"move a selected area down",editing_mode_left:"move a selected area to the left",editing_mode_right:"move a selected area to the right"},y.ɵfac=function(t){return new(t||y)},y.ɵcmp=e.ɵɵdefineComponent({type:y,selectors:[["","ng2-image-map-editor",""]],inputs:{answers:"answers",mainImageSrc:["src","mainImageSrc"],mainImageWidth:["width","mainImageWidth"]},outputs:{onAnswersUpdated:"onAnswersUpdated"},features:[e.ɵɵProvidersFeature([{provide:s.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return y})),multi:!0},{provide:s.NG_VALIDATORS,useExisting:e.forwardRef((function(){return y})),multi:!0}]),e.ɵɵNgOnChangesFeature],attrs:["ng2-image-map-editor",""],decls:114,vars:36,consts:[["id","wrapper"],["id","header"],["id","nav",1,"clearfix"],[1,"float-left"],["id","to_html"],["href","#",1,"btn-round-sm-default",3,"title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M305,148c11.046,0,20-8.954,20-20V90c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20v38\n                                                    C285,139.046,293.954,148,305,148z"],["d","M492,352c11.046,0,20-8.954,20-20V102c0-5.304-2.107-10.392-5.858-14.142l-82-82C420.392,2.107,415.304,0,410,0H80\n                                                    C35.888,0,0,35.888,0,80v352c0,44.112,35.888,80,80,80h352c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20\n                                                    c-11.046,0-20,8.954-20,20c0,22.056-17.944,40-40,40V312c0-11.046-8.954-20-20-20H100c-11.046,0-20,8.954-20,20v160\n                                                    c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40v118c0,33.084,26.916,60,60,60h201c33.084,0,60-26.916,60-60V40h0.716\n                                                    L472,110.284V332C472,343.046,480.954,352,492,352z M120,332h272v140H120V332z M361,158c0,11.028-8.972,20-20,20H140\n                                                    c-11.028,0-20-8.972-20-20V40h241V158z"],["id","rectangle","href","#"],[3,"src"],["href","#","id","circle"],["href","#","id","polygon"],[1,"float-right"],["id","edit",1,"btn"],["href","#",3,"title"],["d","M481.996,30.006C462.647,10.656,436.922,0,409.559,0c-27.363,0-53.089,10.656-72.438,30.005L50.826,316.301\n                                            c-2.436,2.436-4.201,5.46-5.125,8.779L0.733,486.637c-1.939,6.968,0.034,14.441,5.163,19.542c3.8,3.78,8.892,5.821,14.106,5.821\n                                            c1.822,0,3.66-0.25,5.463-0.762l161.557-45.891c6.816-1.936,12.1-7.335,13.888-14.192c1.788-6.857-0.186-14.148-5.189-19.167\n                                            L93.869,329.827L331.184,92.511l88.258,88.258L237.768,361.948c-7.821,7.8-7.838,20.463-0.038,28.284\n                                            c7.799,7.822,20.464,7.838,28.284,0.039l215.98-215.392C501.344,155.53,512,129.805,512,102.442\n                                            C512,75.079,501.344,49.354,481.996,30.006z M143.395,436.158L48.827,463.02l26.485-95.152L143.395,436.158z M453.73,146.575\n                                            l-5.965,5.949l-88.296-88.297l5.938-5.938C377.2,46.495,392.88,40,409.559,40c16.679,0,32.358,6.495,44.152,18.29\n                                            C465.505,70.083,472,85.763,472,102.442C472,119.121,465.505,134.801,453.73,146.575z"],["id","clear",1,"btn-round-sm-default"],["d","M472,83H351V60c0-33.084-26.916-60-60-60h-70c-33.084,0-60,26.916-60,60v23H40c-11.046,0-20,8.954-20,20s8.954,20,20,20\n                                                h20.712l24.374,315.987c0.007,0.092,0.015,0.185,0.023,0.278c1.816,19.924,10.954,38.326,25.73,51.816\n                                                C125.615,504.571,144.771,512,164.778,512h182.444c41.667,0,75.917-31.032,79.669-72.183\n                                                c1.003-11.001-7.101-20.731-18.101-21.734c-11.011-1.003-20.731,7.101-21.734,18.101C385.195,456.603,368.07,472,347.222,472\n                                                H164.778c-20.777,0-37.875-15.571-39.823-36.242L100.831,123h310.338l-17.082,221.462c-0.849,11.013,7.39,20.629,18.403,21.479\n                                                c0.524,0.04,1.043,0.06,1.56,0.06c10.347,0,19.11-7.974,19.919-18.463L451.288,123H472c11.046,0,20-8.954,20-20\n                                                S483.046,83,472,83z M311,83H201V60c0-11.028,8.972-20,20-20h70c11.028,0,20,8.972,20,20V83z"],["d","M165.127,163.019c-11.035,0.482-19.59,9.818-19.108,20.854l10,228.933c0.469,10.738,9.322,19.128,19.966,19.128\n                                                c0.294,0,0.591-0.006,0.888-0.02c11.035-0.482,19.59-9.818,19.108-20.854l-10-228.934\n                                                C185.499,171.092,176.145,162.523,165.127,163.019z"],["d","M326.019,182.127l-10,228.934c-0.482,11.035,8.073,20.372,19.108,20.854c0.297,0.013,0.593,0.02,0.888,0.02\n                                                c10.643,0,19.497-8.39,19.966-19.128l10-228.933c0.482-11.035-8.073-20.372-19.108-20.854\n                                                C335.856,162.527,326.501,171.092,326.019,182.127z"],["d","M236,183v228.933c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20V183c0-11.046-8.954-20-20-20S236,171.954,236,183z"],["id","show_help"],["href","#",1,"btn-round-sm-default"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve",2,"enable-background","new 0 0 512 512"],["cx","256","cy","127","r","20"],["d","M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256\n                                    s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512c46.813,0,92.618-12.758,132.461-36.893\n                                    c9.448-5.724,12.467-18.022,6.744-27.469c-5.723-9.448-18.021-12.467-27.468-6.744C334.144,461.244,295.506,472,256,472\n                                    c-119.103,0-216-96.897-216-216S136.897,40,256,40s216,96.897,216,216c0,42.589-12.665,84.044-36.627,119.884\n                                    c-6.139,9.182-3.672,21.603,5.511,27.742c9.183,6.138,21.603,3.673,27.742-5.51C497.001,355.674,512,306.53,512,256\n                                    C512,187.62,485.371,123.333,437.02,74.98z"],["d","M256,187c-11.046,0-20,8.954-20,20v178c0,11.046,8.954,20,20,20s20-8.954,20-20V207C276,195.954,267.046,187,256,187z"],["id","coords"],["id","debug"],["id","image_wrapper"],["id","image"],["src","","alt","#","id","img"],["xmlns","http://www.w3.org/2000/svg","version","1.2","baseProfile","tiny","id","svg"],["id","from_html_wrapper"],["id","from_html_form"],["title","close",1,"close_button"],["for","code_input"],["id","code_input"],["id","load_code_button"],["id","overlay"],["id","help"],[1,"txt"],[1,"key"]],template:function(t,s){1&t&&(e.ɵɵelementStart(0,"div",0),e.ɵɵelementStart(1,"header",1),e.ɵɵelementStart(2,"nav",2),e.ɵɵelementStart(3,"ul",3),e.ɵɵelementStart(4,"li",4),e.ɵɵelementStart(5,"a",5),e.ɵɵnamespaceSVG(),e.ɵɵelementStart(6,"svg",6),e.ɵɵelementStart(7,"g"),e.ɵɵelementStart(8,"g"),e.ɵɵelementStart(9,"g"),e.ɵɵelement(10,"path",7),e.ɵɵelement(11,"path",8),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵnamespaceHTML(),e.ɵɵelementStart(12,"li"),e.ɵɵelementStart(13,"a",9),e.ɵɵelement(14,"img",10),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(15,"li"),e.ɵɵelementStart(16,"a",11),e.ɵɵelement(17,"img",10),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(18,"li"),e.ɵɵelementStart(19,"a",12),e.ɵɵelement(20,"img",10),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(21,"ul",13),e.ɵɵelementStart(22,"li",14),e.ɵɵelementStart(23,"a",15),e.ɵɵnamespaceSVG(),e.ɵɵelementStart(24,"svg",6),e.ɵɵelementStart(25,"g"),e.ɵɵelementStart(26,"g"),e.ɵɵelement(27,"path",16),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵnamespaceHTML(),e.ɵɵelementStart(28,"li",17),e.ɵɵelementStart(29,"a",5),e.ɵɵnamespaceSVG(),e.ɵɵelementStart(30,"svg",6),e.ɵɵelementStart(31,"g"),e.ɵɵelementStart(32,"g"),e.ɵɵelementStart(33,"g"),e.ɵɵelement(34,"path",18),e.ɵɵelement(35,"path",19),e.ɵɵelement(36,"path",20),e.ɵɵelement(37,"path",21),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵnamespaceHTML(),e.ɵɵelementStart(38,"li",22),e.ɵɵelementStart(39,"a",23),e.ɵɵnamespaceSVG(),e.ɵɵelementStart(40,"svg",24),e.ɵɵelementStart(41,"g"),e.ɵɵelementStart(42,"g"),e.ɵɵelementStart(43,"g"),e.ɵɵelement(44,"circle",25),e.ɵɵelement(45,"path",26),e.ɵɵelement(46,"path",27),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵnamespaceHTML(),e.ɵɵelement(47,"div",28),e.ɵɵelement(48,"div",29),e.ɵɵelementEnd(),e.ɵɵelementStart(49,"div",30),e.ɵɵelementStart(50,"div",31),e.ɵɵelement(51,"img",32),e.ɵɵnamespaceSVG(),e.ɵɵelement(52,"svg",33),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵnamespaceHTML(),e.ɵɵelementStart(53,"div",34),e.ɵɵelementStart(54,"form",35),e.ɵɵelementStart(55,"h5"),e.ɵɵtext(56,"Loading areas"),e.ɵɵelementEnd(),e.ɵɵelement(57,"span",36),e.ɵɵelementStart(58,"p"),e.ɵɵelementStart(59,"label",37),e.ɵɵtext(60,"Enter your html code:"),e.ɵɵelementEnd(),e.ɵɵelement(61,"textarea",38),e.ɵɵelementEnd(),e.ɵɵelementStart(62,"button",39),e.ɵɵtext(63,"Load"),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelement(64,"div",40),e.ɵɵelementStart(65,"div",41),e.ɵɵelement(66,"span",36),e.ɵɵelementStart(67,"div",42),e.ɵɵelementStart(68,"section"),e.ɵɵelementStart(69,"h2"),e.ɵɵtext(70),e.ɵɵelementEnd(),e.ɵɵelementStart(71,"p"),e.ɵɵelementStart(72,"span",43),e.ɵɵtext(73,"ENTER"),e.ɵɵelementEnd(),e.ɵɵtext(74),e.ɵɵelementEnd(),e.ɵɵelementStart(75,"p"),e.ɵɵelementStart(76,"span",43),e.ɵɵtext(77,"ESC"),e.ɵɵelementEnd(),e.ɵɵtext(78),e.ɵɵelementEnd(),e.ɵɵelementStart(79,"p"),e.ɵɵelementStart(80,"span",43),e.ɵɵtext(81,"SHIFT"),e.ɵɵelementEnd(),e.ɵɵtext(82),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(83,"section"),e.ɵɵelementStart(84,"h2"),e.ɵɵtext(85),e.ɵɵelementEnd(),e.ɵɵelementStart(86,"p"),e.ɵɵelementStart(87,"span",43),e.ɵɵtext(88,"DELETE"),e.ɵɵelementEnd(),e.ɵɵtext(89),e.ɵɵelementEnd(),e.ɵɵelementStart(90,"p"),e.ɵɵelementStart(91,"span",43),e.ɵɵtext(92,"ESC"),e.ɵɵelementEnd(),e.ɵɵtext(93),e.ɵɵelementEnd(),e.ɵɵelementStart(94,"p"),e.ɵɵelementStart(95,"span",43),e.ɵɵtext(96,"SHIFT"),e.ɵɵelementEnd(),e.ɵɵtext(97),e.ɵɵelementEnd(),e.ɵɵelementStart(98,"p"),e.ɵɵelementStart(99,"span",43),e.ɵɵtext(100,"↑"),e.ɵɵelementEnd(),e.ɵɵtext(101),e.ɵɵelementEnd(),e.ɵɵelementStart(102,"p"),e.ɵɵelementStart(103,"span",43),e.ɵɵtext(104,"↓"),e.ɵɵelementEnd(),e.ɵɵtext(105),e.ɵɵelementEnd(),e.ɵɵelementStart(106,"p"),e.ɵɵelementStart(107,"span",43),e.ɵɵtext(108,"←"),e.ɵɵelementEnd(),e.ɵɵtext(109),e.ɵɵelementEnd(),e.ɵɵelementStart(110,"p"),e.ɵɵelementStart(111,"span",43),e.ɵɵtext(112,"→"),e.ɵɵelementEnd(),e.ɵɵtext(113),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd()),2&t&&(e.ɵɵadvance(5),e.ɵɵclassProp("btn-round-sm-primary",!s.valid),e.ɵɵpropertyInterpolate("title",s.labels.save_answers),e.ɵɵadvance(8),e.ɵɵclassProp("btn-round-sm-default","rectangle"!=s.currentType)("btn-round-sm-primary","rectangle"==s.currentType),e.ɵɵadvance(1),e.ɵɵproperty("src",s.icons.rectangle,e.ɵɵsanitizeUrl),e.ɵɵadvance(2),e.ɵɵclassProp("btn-round-sm-default","circle"!=s.currentType)("btn-round-sm-primary","circle"==s.currentType),e.ɵɵadvance(1),e.ɵɵproperty("src",s.icons.circle,e.ɵɵsanitizeUrl),e.ɵɵadvance(2),e.ɵɵclassProp("btn-round-sm-default","polygon"!=s.currentType)("btn-round-sm-primary","polygon"==s.currentType),e.ɵɵadvance(1),e.ɵɵproperty("src",s.icons.polygon,e.ɵɵsanitizeUrl),e.ɵɵadvance(3),e.ɵɵclassProp("btn-round-sm-default",!s.isEditMode)("btn-round-sm-primary",s.isEditMode),e.ɵɵpropertyInterpolate("title",s.labels.edit),e.ɵɵadvance(6),e.ɵɵpropertyInterpolate("title",s.labels.clear),e.ɵɵadvance(41),e.ɵɵtextInterpolate(s.labels.drawing_mode),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.drawing_mode_enter,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.drawing_mode_esc,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.drawing_mode_shift,""),e.ɵɵadvance(3),e.ɵɵtextInterpolate(s.labels.editing_mode),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_delete,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_esc,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_shift,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_up,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_down,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_left,""),e.ɵɵadvance(4),e.ɵɵtextInterpolate1(" — ",s.labels.editing_mode_right,""))},encapsulation:2});var _=function(){};_.ɵmod=e.ɵɵdefineNgModule({type:_}),_.ɵinj=e.ɵɵdefineInjector({factory:function(t){return new(t||_)},imports:[[]]}),("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(_,{declarations:[y],exports:[y]}),t.Ng2ImageMapEditorDirective=y,t.Ng2ImageMapEditorModule=_,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-image-map-editor.umd.min.js.map