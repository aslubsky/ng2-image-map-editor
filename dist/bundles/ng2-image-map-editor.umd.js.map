{"version":3,"file":"ng2-image-map-editor.umd.js","sources":["../../src/utils.class.ts","../../src/help.class.ts","../../node_modules/tslib/tslib.es6.js","../../src/area.class.ts","../../src/helper.class.ts","../../src/rectangle.class.ts","../../src/circle.class.ts","../../src/polygon.class.ts","../../src/area-factory.class.ts","../../src/app-event.class.ts","../../src/buttons.class.ts","../../src/editor-app.class.ts","../../src/ng2-image-map-editor.directive.ts","../../src/ng2-image-map-editor.module.ts","../../src/ng2-image-map-editor.ts"],"sourcesContent":["export class Utils {\n    public static app: any;\n\n    /**\n     * Returns offset from html page top-left corner for some element\n     *\n     * @param node {HTMLElement} - html element\n     * @returns {Object} - object with offsets, e.g. {x: 100, y: 200}\n     */\n    public static getOffset(node) {\n        var boxCoords = node.getBoundingClientRect();\n        return {\n            x: Math.round(boxCoords.left + window.pageXOffset),\n            y: Math.round(boxCoords.top + window.pageYOffset)\n        };\n    }\n\n    /**\n     * Returns correct coordinates (incl. offsets)\n     *\n     * @param x {number} - x-coordinate\n     * @param y {number} - y-coordinate\n     * @returns {Object} - object with recalculated coordinates, e.g. {x: 100, y: 200}\n     */\n    public static getRightCoords(x, y) {\n        return {\n            x: x - Utils.app.getOffset('x'),\n            y: y - Utils.app.getOffset('y')\n        };\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static id(str) {\n        return document.getElementById(str);\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static hide(node) {\n        node.style.display = 'none';\n\n        return this;\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static show(node) {\n        node.style.display = 'block';\n\n        return this;\n    }\n\n    /**\n     * Escape < and > (for code output)\n     *\n     * @param str {string} - a string with < and >\n     * @returns {string} - a string with escaped < and >\n     */\n    public static encode(str) {\n        return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static foreach(arr, func) {\n        for (var i = 0, count = arr.length; i < count; i++) {\n            func(arr[i], i);\n        }\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static foreachReverse(arr, func) {\n        for (var i = arr.length - 1; i >= 0; i--) {\n            func(arr[i], i);\n        }\n    }\n\n    /**\n     * TODO: will use same method of app.js\n     * @deprecated\n     */\n    public static stopEvent(e) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        return this;\n    }\n}\n","import {Utils} from './utils.class';\n\nexport class Help {\n    public block: any;\n    public overlay: any;\n    public close_button: any;\n\n    constructor() {\n        this.block = Utils.id('help');\n        // console.log('this.block', this.block);\n        this.overlay = Utils.id('overlay');\n        this.close_button = this.block.querySelector('.close_button');\n\n        this.overlay.addEventListener('click', this.hide.bind(this), false);\n        this.close_button.addEventListener('click', this.hide.bind(this), false);\n    }\n\n    public hide() {\n        Utils.hide(this.block);\n        Utils.hide(this.overlay);\n    }\n\n    public show() {\n        Utils.show(this.block);\n        Utils.show(this.overlay);\n    }\n\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export class Area {\n    public static app: any;\n    public static SVG_NS: string = 'http://www.w3.org/2000/svg';\n    public static HTML: string = 'http://www.w3.org/1999/xhtml';\n    public static CLASS_NAMES: any = {\n        SELECTED: 'selected',\n        WITH_HREF: 'with_href'\n    };\n\n    protected type: any;\n    protected attributes: any;\n\n    protected _params: any;\n\n    protected _groupEl: any;\n    protected _el: any;\n    protected _helpers: any;\n\n    public delta: any;\n\n    public href: string;\n    public alt: string;\n    public title: string;\n\n\n    constructor(coords: any, type?: any) {\n        // Public properties:\n        this.type = type;\n        this.attributes = {\n            href: '',\n            alt: '',\n            title: ''\n        };\n\n        // Private properties:\n        this._params = {};\n\n        // the g-element, it contains this area and helpers elements\n        this._groupEl = document.createElementNS(Area.SVG_NS, 'g');\n        Area.app.addNodeToSvg(this._groupEl);\n\n        // Todo: remove this fielf from DOM-element\n        /* Link to parent object */\n        this._groupEl.obj = this;\n\n        // svg-dom-element of area\n        this._el = null;\n\n        // Array/object with all helpers of area\n        this._helpers = {}; // or []\n    }\n\n    public testCoords() {\n        throw new Error('This is abstract method');\n    }\n\n    public setCoords(params?: any) {\n        throw new Error('This is abstract method');\n    }\n\n    public redraw(params?: any) {\n        throw new Error('This is abstract method');\n    }\n\n    public remove() {\n        Area.app.removeNodeFromSvg(this._groupEl);\n    }\n\n    public select() {\n        this._el.classList.add(Area.CLASS_NAMES.SELECTED);\n        return this;\n    }\n\n    public deselect() {\n        this._el.classList.remove(Area.CLASS_NAMES.SELECTED);\n        return this;\n    }\n\n    public with_href() {\n        this._el.classList.add(Area.CLASS_NAMES.WITH_HREF);\n        return this;\n    }\n\n    public without_href() {\n        this._el.classList.remove(Area.CLASS_NAMES.WITH_HREF);\n        return this;\n    }\n\n    public setInfoAttributes(params: any) {\n        if (params.href) {\n            this.attributes.href = params.href;\n        }\n\n        if (params.alt) {\n            this.attributes.alt = params.alt;\n        }\n\n        if (params.title) {\n            this.attributes.title = params.title;\n        }\n    }\n\n    public toJSON(): any {\n        return {\n            // type: this._type,//?????\n            coords: this._params,\n            attributes: this.attributes\n        };\n    }\n}","import {Area} from './area.class';\n\n/**\n * The constructor of helpers points\n *\n * @constructor\n * @param node {parentNode} - a node for inserting helper\n * @param x {number} - x - coordinate\n * @param y {number} - y - coordinate\n * @param action {string} - an action by click of this helper\n */\nexport class Helper {\n    public static SIZE: number = 5;\n    public static SIZENum: number = 15;\n    public static OFFSET: number = -Math.ceil(Helper.SIZE / 2);\n    public static CLASS_NAME: string = 'helper';\n    public static ACTIONS_TO_CURSORS: any = {\n        'move': 'move',\n        'editLeft': 'e-resize',\n        'editRight': 'w-resize',\n        'editTop': 'n-resize',\n        'editBottom': 's-resize',\n        'editTopLeft': 'nw-resize',\n        'editTopRight': 'ne-resize',\n        'editBottomLeft': 'sw-resize',\n        'editBottomRight': 'se-resize',\n        'pointMove': 'pointer',\n        'number': 'default'\n    };\n\n    private _el: any;\n\n    constructor(node: any, x: number, y: number, action: string) {\n        if (action == 'number') {\n            this._el = document.createElementNS(Area.SVG_NS, 'text');\n        } else {\n            this._el = document.createElementNS(Area.SVG_NS, 'rect');\n        }\n\n\n        this._el.classList.add(Helper.CLASS_NAME);\n        if (action == 'number') {\n            //this._el.textContent = 'Test';\n            this._el.setAttribute('height', Helper.SIZENum);\n            this._el.setAttribute('width', Helper.SIZENum);\n            this._el.setAttribute('x', x + Helper.OFFSET);\n            this._el.setAttribute('y', y + Helper.OFFSET);\n        } else {\n            this._el.setAttribute('height', Helper.SIZE);\n            this._el.setAttribute('width', Helper.SIZE);\n            this._el.setAttribute('x', x + Helper.OFFSET);\n            this._el.setAttribute('y', y + Helper.OFFSET);\n        }\n\n        node.appendChild(this._el);\n\n        this._el.action = action;\n        this._el.classList.add(Helper.ACTIONS_TO_CURSORS[action]);\n    }\n\n    public setCoords(x: number, y: number) {\n        this._el.setAttribute('x', x + Helper.OFFSET);\n        this._el.setAttribute('y', y + Helper.OFFSET);\n\n        return this;\n    }\n\n    public setNumber(id: number) {\n        this._el.textContent = id + 1;\n    }\n\n    public setId(id: number) {\n        this._el.n = id;\n        return this;\n    }\n}","import {Area} from './area.class';\nimport {Helper} from './helper.class';\nimport {Utils} from './utils.class';\n\n/**\n * The constructor for rectangles\n *\n * Initial state:\n * (x, y) -----\n * |          |\n * -----------\n * with width = 0 and height = 0\n *\n * @constructor\n * @param coords {Object} - coordinates of the begin point, e.g. {x: 100, y: 200}\n */\nexport class Rectangle extends Area {\n    public attributes: any;\n\n    constructor(coords: any, type?: any) {\n        super(coords, 'rectangle');\n\n        /**\n         * @namespace\n         * @property {number} x - Distance from the left edge of the image to the left side of the rectangle\n         * @property {number} y - Distance from the top edge of the image to the top side of the rectangle\n         * @property {number} width - Width of rectangle\n         * @property {number} height - Height of rectangle\n         */\n        this._params = {\n            x: coords.x,\n            y: coords.y,\n            width: 0,\n            height: 0\n        };\n\n        this._el = document.createElementNS(Area.SVG_NS, 'rect');\n        this._groupEl.appendChild(this._el);\n\n        var x = coords.x - this._params.width / 2,\n            y = coords.y - this._params.height / 2;\n\n        this._helpers = {\n            number: new Helper(this._groupEl, x, y, 'number'),\n            center: new Helper(this._groupEl, x, y, 'move'),\n            top: new Helper(this._groupEl, x, y, 'editTop'),\n            bottom: new Helper(this._groupEl, x, y, 'editBottom'),\n            left: new Helper(this._groupEl, x, y, 'editLeft'),\n            right: new Helper(this._groupEl, x, y, 'editRight'),\n            topLeft: new Helper(this._groupEl, x, y, 'editTopLeft'),\n            topRight: new Helper(this._groupEl, x, y, 'editTopRight'),\n            bottomLeft: new Helper(this._groupEl, x, y, 'editBottomLeft'),\n            bottomRight: new Helper(this._groupEl, x, y, 'editBottomRight')\n        };\n        this._helpers.number.setNumber(coords.n);\n        this.select().redraw();\n\n        /* Add this object to array of all objects */\n        Area.app.addObject(this);\n    }\n\n\n    /**\n     * Set attributes for svg-elements of area by new parameters\n     * -----top-----\n     * |           |\n     * ---center_y--\n     * |           |\n     * ---bottom----\n     */\n    public setSVGAttributes(params: any) {\n        this._el.setAttribute('x', params.x);\n        this._el.setAttribute('y', params.y);\n        this._el.setAttribute('width', params.width);\n        this._el.setAttribute('height', params.height);\n\n        var top = params.y,\n            center_y = params.y + params.height / 2,\n            bottom = params.y + params.height,\n            left = params.x,\n            center_x = params.x + params.width / 2,\n            right = params.x + params.width;\n\n        this._helpers.number.setCoords(left, top - 5);\n        this._helpers.center.setCoords(center_x, center_y);\n        this._helpers.top.setCoords(center_x, top);\n        this._helpers.bottom.setCoords(center_x, bottom);\n        this._helpers.left.setCoords(left, center_y);\n        this._helpers.right.setCoords(right, center_y);\n        this._helpers.topLeft.setCoords(left, top);\n        this._helpers.topRight.setCoords(right, top);\n        this._helpers.bottomLeft.setCoords(left, bottom);\n        this._helpers.bottomRight.setCoords(right, bottom);\n        return this;\n    }\n\n    public redraw(params?: any) {\n        this.setSVGAttributes(params ? params : this._params);\n        return this;\n    }\n\n    public setParams(params: any) {\n        this._params.x = params.x;\n        this._params.y = params.y;\n        this._params.width = params.width;\n        this._params.height = params.height;\n\n        return this;\n    }\n\n    public getNormalizedCoords() {\n\n    }\n\n    public dynamicDraw(x1: number, y1: number, isSquare?: boolean) {\n        var x0 = this._params.x,\n            y0 = this._params.y,\n            new_x,\n            new_y,\n            new_width,\n            new_height,\n            delta,\n            temp_params;\n\n        new_width = Math.abs(x1 - x0);\n        new_height = Math.abs(y1 - y0);\n\n        if (isSquare) {\n            delta = new_width - new_height;\n            if (delta > 0) {\n                new_width = new_height;\n            } else {\n                new_height = new_width;\n            }\n        }\n\n        if (x0 > x1) {\n            new_x = x1;\n            if (isSquare && delta > 0) {\n                new_x = x1 + Math.abs(delta);\n            }\n        } else {\n            new_x = x0;\n        }\n\n        if (y0 > y1) {\n            new_y = y1;\n            if (isSquare && delta < 0) {\n                new_y = y1 + Math.abs(delta);\n            }\n        } else {\n            new_y = y0;\n        }\n\n        temp_params = {\n            x: new_x,\n            y: new_y,\n            width: new_width,\n            height: new_height\n        };\n\n        this.setSVGAttributes(temp_params);\n\n        return temp_params;\n    }\n\n\n    public onProcessDrawing(e: any) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        this.dynamicDraw(coords.x, coords.y, e.shiftKey);\n    }\n\n    public onStopDrawing(e: any) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        this.setParams(this.dynamicDraw(coords.x, coords.y, e.shiftKey)).deselect();\n\n        Area.app.removeAllEvents()\n            .setIsDraw(false)\n            .resetNewArea();\n    }\n\n    public move(dx: number, dy: number) { //offset x and y\n        var temp_params = Object.create(this._params);\n\n        temp_params.x += dx;\n        temp_params.y += dy;\n\n        return temp_params;\n    }\n\n\n    /**\n     * Changes area parameters by editing type and offsets\n     *\n     * @param {String} editingType - A type of editing\n     * @returns {Object} - Object with changed parameters of area\n     */\n    public edit(editingType: string, dx: number, dy: number) {\n        var tempParams = Object.assign({}, this._params);\n\n        switch (editingType) {\n            case 'move':\n                tempParams.x += dx;\n                tempParams.y += dy;\n                break;\n\n            case 'editLeft':\n                tempParams.x += dx;\n                tempParams.width -= dx;\n                break;\n\n            case 'editRight':\n                tempParams.width += dx;\n                break;\n\n            case 'editTop':\n                tempParams.y += dy;\n                tempParams.height -= dy;\n                break;\n\n            case 'editBottom':\n                tempParams.height += dy;\n                break;\n\n            case 'editTopLeft':\n                tempParams.x += dx;\n                tempParams.y += dy;\n                tempParams.width -= dx;\n                tempParams.height -= dy;\n                break;\n\n            case 'editTopRight':\n                tempParams.y += dy;\n                tempParams.width += dx;\n                tempParams.height -= dy;\n                break;\n\n            case 'editBottomLeft':\n                tempParams.x += dx;\n                tempParams.width -= dx;\n                tempParams.height += dy;\n                break;\n\n            case 'editBottomRight':\n                tempParams.width += dx;\n                tempParams.height += dy;\n                break;\n        }\n\n        return tempParams;\n    }\n\n    public dynamicEdit(temp_params: any, saveProportions: any) {\n        if (temp_params.width < 0) {\n            temp_params.width = Math.abs(temp_params.width);\n            temp_params.x -= temp_params.width;\n        }\n\n        if (temp_params.height < 0) {\n            temp_params.height = Math.abs(temp_params.height);\n            temp_params.y -= temp_params.height;\n        }\n\n        if (saveProportions) {\n            var proportions = this._params.width / this._params.height,\n                new_proportions = temp_params.width / temp_params.height,\n                delta = new_proportions - proportions,\n                x0 = this._params.x,\n                y0 = this._params.y,\n                x1 = temp_params.x,\n                y1 = temp_params.y;\n\n            if (delta > 0) {\n                temp_params.width = Math.round(temp_params.height * proportions);\n            } else {\n                temp_params.height = Math.round(temp_params.width / proportions);\n            }\n\n        }\n\n        this.setSVGAttributes(temp_params);\n\n        return temp_params;\n    }\n\n    public onProcessEditing(e: any) {\n        return this.dynamicEdit(\n            this.edit(\n                Area.app.getEditType(),\n                e.pageX - this.delta.x,\n                e.pageY - this.delta.y\n            ),\n            e.shiftKey\n        );\n    }\n\n    public onStopEditing(e: any) {\n\n        this.setParams(this.onProcessEditing(e));\n        Area.app.removeAllEvents()\n            .setIsDraw(false)\n            .resetNewArea();\n    }\n\n    public toString() { //to html map area code\n        var x2 = this._params.x + this._params.width,\n            y2 = this._params.y + this._params.height;\n\n        return '<area shape=\"rect\" coords=\"' // TODO: use template engine\n            + this._params.x + ', '\n            + this._params.y + ', '\n            + x2 + ', '\n            + y2\n            + '\"'\n            + (this.href ? ' href=\"' + this.href + '\"' : '')\n            + (this.alt ? ' alt=\"' + this.alt + '\"' : '')\n            + (this.title ? ' title=\"' + this.title + '\"' : '')\n            + ' />';\n    }\n\n    public toJSON(): any {\n        return {\n            type: 'rectangle',\n            coords: [\n                this._params.x,\n                this._params.y,\n                this._params.x + this._params.width,\n                this._params.y + this._params.height\n            ],\n            href: this.attributes.href,\n            alt: this.attributes.alt,\n            title: this.attributes.title\n        };\n    }\n\n    /**\n     * Returns true if coords array is valid for rectangles and false otherwise\n     *\n     * @static\n     * @param coords {Array} - coords for new rectangle as array\n     * @return {boolean}\n     */\n    public static testCoords(coords) {\n        return coords.length === 4;\n    }\n\n    public static createFromSaved(params: any) {\n        if (!this.testCoords(params.coords)) {\n            return;\n        }\n\n        Area.app.setIsDraw(true);\n\n        var area = new Rectangle({\n            x: params.coords[0],\n            y: params.coords[1],\n            n: params.number\n        });\n\n        area.setParams(area.dynamicDraw(params.coords[2], params.coords[3])).deselect();\n\n        Area.app.setIsDraw(false)\n            .resetNewArea();\n\n        area.setInfoAttributes(params);\n    }\n    /**\n     * Creates new rectangle and add drawing handlers for DOM-elements\n     *\n     * @param coords {Object} coords\n     * @returns created rectangle\n     */\n    public static  createAndStartDrawing(coords) {\n        coords.n = Area.app.getAreas().length;\n        var newArea = new Rectangle(coords);\n\n        Area.app.addEvent(Area.app.domElements.container, 'mousemove', newArea.onProcessDrawing.bind(newArea))\n            .addEvent(Area.app.domElements.container, 'click', newArea.onStopDrawing.bind(newArea));\n\n        return newArea;\n    }\n}","import {Area} from './area.class';\nimport {Helper} from './helper.class';\nimport {Utils} from './utils.class';\n\n/**\n * The constructor for circles\n *\n * Initial state:\n *      ----\n *  /         \\\n * |  (x, y)  |\n * \\         /\n *    ----\n * with radius = 0\n *\n * @constructor\n * @param coords {Object} - coordinates of the begin pointer, e.g. {x: 100, y: 200}\n */\nexport class Circle extends Area {\n\n    constructor(coords: any, type?: any) {\n        super(coords, 'circle');\n\n        /**\n         * @namespace\n         * @property {number} cx - Distance from the left edge of the image to the center of the circle\n         * @property {number} cy - Distance from the top edge of the image to the center of the circle\n         * @property {number} radius - Radius of the circle\n         */\n        this._params = {\n            cx: coords.x,\n            cy: coords.y,\n            radius: 0\n        }\n\n        this._el = document.createElementNS(Area.SVG_NS, 'circle');\n        this._groupEl.appendChild(this._el);\n\n        this._helpers = { //array of all helpers-rectangles\n            number: new Helper(this._groupEl, coords.x, coords.y, 'number'),\n            center: new Helper(this._groupEl, coords.x, coords.y, 'move'),\n            top: new Helper(this._groupEl, coords.x, coords.y, 'editTop'),\n            bottom: new Helper(this._groupEl, coords.x, coords.y, 'editBottom'),\n            left: new Helper(this._groupEl, coords.x, coords.y, 'editLeft'),\n            right: new Helper(this._groupEl, coords.x, coords.y, 'editRight')\n        }\n        this._helpers.number.setNumber(coords.n);\n        this.select().redraw();\n\n        Area.app.addObject(this); //add this object to array of all objects\n    }\n\n    public setSVGAttributes(params) {\n        this._el.setAttribute('cx', params.cx);\n        this._el.setAttribute('cy', params.cy);\n        this._el.setAttribute('r', params.radius);\n\n        this._helpers.number.setCoords(params.cx, params.cy - params.radius - 5);\n        this._helpers.center.setCoords(params.cx, params.cy);\n        this._helpers.top.setCoords(params.cx, params.cy - params.radius);\n        this._helpers.right.setCoords(params.cx + params.radius, params.cy);\n        this._helpers.bottom.setCoords(params.cx, params.cy + params.radius);\n        this._helpers.left.setCoords(params.cx - params.radius, params.cy);\n\n        return this;\n    }\n\n    public setParams(params) {\n        this._params.cx = params.cx;\n        this._params.cy = params.cy;\n        this._params.radius = params.radius;\n\n        return this;\n    }\n\n    public dynamicDraw(x1, y1) {\n        var x0 = this._params.cx,\n            y0 = this._params.cy,\n            dx,\n            dy,\n            radius,\n            temp_params;\n\n        x1 = x1 || x0;\n        y1 = y1 || y0;\n\n        dx = Math.abs(x0 - x1);\n        dy = Math.abs(y0 - y1);\n        radius = Math.round(Math.sqrt(dx * dx + dy * dy));\n\n        temp_params = {\n            /* params */\n            cx: x0,\n            cy: y0,\n            radius: radius\n        }\n\n        this.setSVGAttributes(temp_params);\n\n        return temp_params;\n    }\n\n    public onProcessDrawing(e) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        this.dynamicDraw(coords.x, coords.y);\n    }\n\n    public onStopDrawing(e) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        this.setParams(this.dynamicDraw(coords.x, coords.y)).deselect();\n\n        Area.app.removeAllEvents()\n            .setIsDraw(false)\n            .resetNewArea();\n    }\n\n    public edit(editingType, dx, dy) {\n        var tempParams = Object.assign({}, this._params);\n        switch (editingType) {\n            case 'move':\n                tempParams.cx += dx;\n                tempParams.cy += dy;\n                break;\n\n            case 'editTop':\n                tempParams.radius -= dy;\n                break;\n\n            case 'editBottom':\n                tempParams.radius += dy;\n                break;\n\n            case 'editLeft':\n                tempParams.radius -= dx;\n                break;\n\n            case 'editRight':\n                tempParams.radius += dx;\n                break;\n        }\n        return tempParams;\n    }\n\n    public move(dx, dy) { //offset x and y\n        var temp_params = Object.create(this._params);\n\n        temp_params.cx += dx;\n        temp_params.cy += dy;\n\n        return temp_params;\n    }\n\n    public dynamicEdit(temp_params) {\n        if (temp_params.radius < 0) {\n            temp_params.radius = Math.abs(temp_params.radius);\n        }\n        this.setSVGAttributes(temp_params);\n\n        return temp_params;\n    }\n\n    public onProcessEditing(e) {\n        var editType = Area.app.getEditType();\n        this.dynamicEdit(\n            this.edit(editType, e.pageX - this.delta.x, e.pageY - this.delta.y)\n        );\n    }\n\n    public onStopEditing(e) {\n        var editType = Area.app.getEditType();\n\n        this.setParams(\n            this.dynamicEdit(\n                this.edit(editType, e.pageX - this.delta.x, e.pageY - this.delta.y)\n            )\n        );\n\n        Area.app.removeAllEvents();\n    }\n\n    public toString() { //to html map area code\n        return '<area shape=\"circle\" coords=\"'\n            + this._params.cx + ', '\n            + this._params.cy + ', '\n            + this._params.radius\n            + '\"'\n            + (this.href ? ' href=\"' + this.href + '\"' : '')\n            + (this.alt ? ' alt=\"' + this.alt + '\"' : '')\n            + (this.title ? ' title=\"' + this.title + '\"' : '')\n            + ' />';\n    }\n\n    /**\n     * Returns true if coords array is valid for circles and false otherwise\n     *\n     * @static\n     * @param coords {Array} - coords for new circle as array\n     * @return {boolean}\n     */\n    public static testCoords(coords) {\n        return coords.length === 3;\n    }\n\n    public static createFromSaved(params) {\n        if (!this.testCoords(params.coords)) {\n            return;\n        }\n\n        Area.app.setIsDraw(true);\n        var area = new Circle({\n            x: params.coords[0],\n            y: params.coords[1],\n            n: params.number\n        });\n\n        area.setParams(area.dynamicDraw(\n            params.coords[0],\n            params.coords[1] + params.coords[2]\n        )).deselect();\n\n        Area.app.setIsDraw(false)\n            .resetNewArea();\n\n        area.setInfoAttributes(params);\n    }\n\n    public toJSON(): any {\n        return {\n            type: 'circle',\n            coords: [\n                this._params.cx,\n                this._params.cy,\n                this._params.radius\n            ],\n            href: this.attributes.href,\n            alt: this.attributes.alt,\n            title: this.attributes.title\n        }\n    }\n\n    public redraw(params?: any) {\n        this.setSVGAttributes(params ? params : this._params);\n        return this;\n    }\n\n    /**\n     * Creates new circle and add drawing handlers for DOM-elements\n     *\n     * @param coords {Object} coords\n     * @returns created circle\n     */\n    public static createAndStartDrawing(coords) {\n        coords.n = Area.app.getAreas().length;\n        var newArea = new Circle(coords);\n\n        Area.app.addEvent(Area.app.domElements.container, 'mousemove', newArea.onProcessDrawing.bind(newArea))\n            .addEvent(Area.app.domElements.container, 'click', newArea.onStopDrawing.bind(newArea));\n\n        return newArea;\n    }\n}","import {Area} from './area.class';\nimport {Helper} from './helper.class';\nimport {Utils} from './utils.class';\n\n/**\n * The constructor for polygons\n *\n * Initial state:\n *    (x, y)\n * only one point of the line\n *\n * @constructor\n * @param coords {Object} - coordinates of the begin pointer, e.g. {x: 100, y: 200}\n */\nexport class Polygon extends Area {\n\n    private selected_point: number;\n    private _polyline: any;\n\n    constructor(coords: any, type?: any) {\n        super(coords, 'polygon');\n\n        /**\n         * @namespace\n         * @property {array} points - Array of coordinates of polygon points\n         */\n        this._params = {\n            points: [coords.x, coords.y]\n        }\n\n        this._el = document.createElementNS(Area.SVG_NS, 'polyline');\n        this._groupEl.appendChild(this._el);\n\n        this._helpers = [ //array of all helpers-rectangles\n            new Helper(this._groupEl, this._params.points[0], this._params.points[1], 'number'),\n            (new Helper(this._groupEl, this._params.points[0], this._params.points[1], 'pointMove')).setId(1)\n        ];\n        this._helpers[0].setNumber(coords.n);\n        this.selected_point = -1;\n\n        this.select().redraw();\n\n        Area.app.addObject(this); //add this object to array of all objects\n    }\n\n\n    public setCoords(params?: any) {\n        var coords_values = params.points.join(' ');\n        this._el.setAttribute('points', coords_values);\n        Utils.foreach(this._helpers, function (x, i) {\n            if (x._el.action == 'number') {\n                x.setCoords(params.points[0], params.points[1]);\n            } else {\n                i = i - 1;\n                x.setCoords(params.points[2 * i], params.points[2 * i + 1]);\n            }\n            //x.setCoords(params.points[2 * i], params.points[2 * i + 1]);\n        });\n\n        return this;\n    }\n\n    public setSVGAttributes(params) {\n        var coords_values = params.points.join(' ');\n        this._el.setAttribute('points', coords_values);\n\n        Utils.foreach(this._helpers, function (helper, i) {\n            if (helper._el.action == 'number') {\n                helper.setCoords(params.points[0], params.points[1]);\n            } else {\n                i = i - 1;\n                helper.setCoords(params.points[2 * i], params.points[2 * i + 1]);\n            }\n        });\n        return this;\n    }\n\n    public setParams(arr) {\n        if (arr.isArray) {\n            this._params.points = Array.prototype.slice.call(arr);\n        } else {\n            this._params.points = Array.prototype.slice.call(arr.points);\n        }\n        return this;\n    }\n\n    public addPoint(x, y) {\n        var helper = new Helper(this._groupEl, x, y, 'pointMove');\n        helper.setId(this._helpers.length);\n        this._helpers.push(helper);\n        this._params.points.push(x, y);\n        this.redraw();\n\n        return this;\n    }\n\n    public right_angle(x, y) {\n        var old_x = this._params.points[this._params.points.length - 2],\n            old_y = this._params.points[this._params.points.length - 1],\n            dx = x - old_x,\n            dy = -(y - old_y),\n            tan = dy / dx; //tangens\n\n        if (dx > 0 && dy > 0) {\n            if (tan > 2.414) {\n                x = old_x;\n            } else if (tan < 0.414) {\n                y = old_y;\n            } else {\n                Math.abs(dx) > Math.abs(dy) ? x = old_x + dy : y = old_y - dx;\n            }\n        } else if (dx < 0 && dy > 0) {\n            if (tan < -2.414) {\n                x = old_x;\n            } else if (tan > -0.414) {\n                y = old_y;\n            } else {\n                Math.abs(dx) > Math.abs(dy) ? x = old_x - dy : y = old_y + dx;\n            }\n        } else if (dx < 0 && dy < 0) {\n            if (tan > 2.414) {\n                x = old_x;\n            } else if (tan < 0.414) {\n                y = old_y;\n            } else {\n                Math.abs(dx) > Math.abs(dy) ? x = old_x + dy : y = old_y - dx;\n            }\n        } else if (dx > 0 && dy < 0) {\n            if (tan < -2.414) {\n                x = old_x;\n            } else if (tan > -0.414) {\n                y = old_y;\n            } else {\n                Math.abs(dx) > Math.abs(dy) ? x = old_x - dy : y = old_y + dx;\n            }\n        }\n\n        return {\n            x: x,\n            y: y\n        }\n    }\n\n    public dynamicDraw(x, y, right_angle) {\n        var temp_params = {\n            points: [].concat(this._params.points)\n        }\n\n        if (right_angle) {\n            var right_coords = this.right_angle(x, y);\n            x = right_coords.x;\n            y = right_coords.y;\n        }\n\n        temp_params.points.push(x, y);\n\n        this.redraw(temp_params);\n\n        return temp_params;\n    }\n\n    public onProcessDrawing(e) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        this.dynamicDraw(coords.x, coords.y, e.shiftKey);\n    }\n\n    public onAddPointDrawing(e) {\n        var coords = Utils.getRightCoords(e.pageX, e.pageY);\n\n        if (e.shiftKey) {\n            coords = this.right_angle(coords.x, coords.y);\n        }\n\n        this.addPoint(coords.x, coords.y);\n    }\n\n    public onStopDrawing(e) {\n        if (e.type == 'click' || (e.type == 'keydown' && e.keyCode == 13)) {\n            if (this._params.points.length >= 6) {//>= 3 points for polygon\n                this._polyline = this._el;\n                this._el = document.createElementNS(Area.SVG_NS, 'polygon');\n                this._groupEl.replaceChild(this._el, this._polyline);\n                this.redraw(this._params).deselect();\n                delete(this._polyline);\n\n                Area.app.removeAllEvents()\n                    .setIsDraw(false)\n                    .resetNewArea();\n            }\n        }\n        e.stopPropagation();\n    }\n\n    public redraw(params?: any) {\n        this.setSVGAttributes(params ? params : this._params);\n        return this;\n    }\n\n    public move(x, y) { //offset x and y\n        //var temp_params = Object.create(this._params);\n        var temp_params = this._params;\n\n        for (var i = 0, count = this._params.points.length; i < count; i++) {\n            this._params.points[i] += (i % 2 ? y : x);\n        }\n        return temp_params;\n    }\n\n    public pointMove(x, y) {//offset x and y\n        if (this.selected_point == 1) {\n            this._params.points[0] += x;\n            this._params.points[1] += y;\n        } else {\n            this._params.points[2 * this.selected_point - 2] += x;\n            this._params.points[2 * this.selected_point - 1] += y;\n        }\n\n        return this._params;\n    }\n\n    public dynamicEdit(temp_params) {\n        this.setCoords(temp_params);\n\n        return temp_params;\n    }\n\n    public onProcessEditing(e) {\n        var editType = Area.app.getEditType();\n        if (typeof this[editType] === 'function') {\n            this.dynamicEdit(\n                this[editType](e.pageX - this.delta.x, e.pageY - this.delta.y)\n            );\n            this.delta.x = e.pageX;\n            this.delta.y = e.pageY;\n        }\n    }\n\n    public onStopEditing(e) {\n        var editType = Area.app.getEditType();\n        this.setParams(\n            this.dynamicEdit(\n                this[editType](e.pageX - this.delta.x, e.pageY - this.delta.y)\n            )\n        );\n        Area.app.removeAllEvents();\n    }\n\n    public toString() { //to html map area code\n        for (var i = 0, count = this._params.points.length, str = ''; i < count; i++) {\n            str += this._params.points[i];\n            if (i != count - 1) {\n                str += ', ';\n            }\n        }\n\n        return '<area shape=\"poly\" coords=\"'\n            + str\n            + '\"'\n            + (this.href ? ' href=\"' + this.href + '\"' : '')\n            + (this.alt ? ' alt=\"' + this.alt + '\"' : '')\n            + (this.title ? ' title=\"' + this.title + '\"' : '')\n            + ' />';\n    }\n\n    /**\n     * Returns true if coords array is valid for polygons and false otherwise\n     *\n     * @static\n     * @param coords {Array} - coords for new polygon as array\n     * @return {boolean}\n     */\n    public static testCoords(coords) {\n        return coords.length >= 6 && coords.length % 2 === 0;\n    }\n\n    public static createFromSaved(params) {\n        if (!this.testCoords(params.coords)) {\n            return;\n        }\n\n        Area.app.setIsDraw(true);\n\n        var area = new Polygon({\n            x: params.coords[0],\n            y: params.coords[1],\n            n: params.number\n        });\n\n        for (var i = 2, c = params.coords.length; i < c; i += 2) {\n            area.addPoint(params.coords[i], params.coords[i + 1]);\n        }\n\n        area._polyline = area._el;\n        area._el = document.createElementNS(Area.SVG_NS, 'polygon');\n        area._groupEl.replaceChild(area._el, area._polyline);\n\n        area.setCoords(area._params).deselect();\n        delete(area._polyline);\n\n        Area.app.setIsDraw(false)\n            .resetNewArea();\n\n        area.setInfoAttributes(params);\n\n    }\n\n    /**\n     * Creates new polygon and add drawing handlers for DOM-elements\n     *\n     * @param coords {Object} coords\n     * @returns created polygon\n     */\n    public static createAndStartDrawing(coords) {\n        coords.n = Area.app.getAreas().length;\n        var newArea = new Polygon(coords);\n\n        Area.app.addEvent(Area.app.domElements.container, 'mousemove', newArea.onProcessDrawing.bind(newArea))\n            .addEvent(Area.app.domElements.container, 'click', newArea.onAddPointDrawing.bind(newArea))\n            .addEvent(document, 'keydown', newArea.onStopDrawing.bind(newArea))\n            .addEvent(newArea._helpers[0]._el, 'click', newArea.onStopDrawing.bind(newArea));\n\n        return newArea;\n    }\n\n    public toJSON(): any {\n        return {\n            type: 'polygon',\n            coords: this._params.points,\n            href: this.attributes.href,\n            alt: this.attributes.alt,\n            title: this.attributes.title\n        }\n    }\n}","import {Rectangle} from './rectangle.class';\nimport {Circle} from './circle.class';\nimport {Polygon} from './polygon.class';\n\nexport class AreaFactory {\n    public static CONSTRUCTORS: any = {\n        rectangle: Rectangle,\n        circle: Circle,\n        polygon: Polygon\n    };\n}","export class AppEvent {\n    public target: any;\n    public func: any;\n    public eventType: any;\n\n    constructor(target: any, eventType: any, func: any,) {\n        this.target = target;\n        this.eventType = eventType;\n        this.func = func;\n\n        target.addEventListener(eventType, func, false);\n    }\n\n    public remove() {\n        this.target.removeEventListener(this.eventType, this.func, false);\n    }\n}","import {Utils} from './utils.class';\nimport {Area} from './area.class';\nimport {EditorApp} from './editor-app.class';\n\n/* Buttons and actions */\nexport class Buttons {\n    public all = Utils.id('nav').getElementsByTagName('li');\n    public rectangle = Utils.id('rectangle');\n    public circle = Utils.id('circle');\n    public polygon = Utils.id('polygon');\n    public edit = Utils.id('edit');\n    public clear = Utils.id('clear');\n    public to_html = Utils.id('to_html');\n    public show_help = Utils.id('show_help');\n\n\n    constructor(private app: EditorApp) {\n        this.rectangle.addEventListener('click', this.onShapeButtonClick.bind(this), false);\n        this.circle.addEventListener('click', this.onShapeButtonClick.bind(this), false);\n        this.polygon.addEventListener('click', this.onShapeButtonClick.bind(this), false);\n        this.clear.addEventListener('click', this.onClearButtonClick.bind(this), false);\n        this.to_html.addEventListener('click', this.onToHtmlButtonClick.bind(this), false);\n        this.edit.addEventListener('click', this.onEditButtonClick.bind(this), false);\n        this.show_help.addEventListener('click', this.onShowHelpButtonClick.bind(this), false);\n    }\n\n    public deselectAll() {\n        Utils.foreach(this.all, function (x) {\n            x.classList.remove(Area.CLASS_NAMES.SELECTED);\n        });\n    }\n\n    public selectOne(button: any) {\n        this.deselectAll();\n        button.classList.add(Area.CLASS_NAMES.SELECTED);\n    }\n\n    public onShapeButtonClick(e) {\n        e.preventDefault();\n        var target = e.target.id ? e.target : e.target.parentNode;\n\n        // console.log('onShapeButtonClick', e, this, target, target.id);\n\n        this.onSetInvalid();\n\n        this.app.setMode('drawing')\n            .setDrawClass()\n            .setShape(target.id)\n            .deselectAll()\n            .hidePreview();\n        // this.app.info.unload();\n        this.selectOne(target);\n    }\n\n    public onClearButtonClick(e) {\n        e.preventDefault();\n        // console.log('onClearButtonClick', e, this);\n\n        // Clear all\n        if (confirm('Clear all?')) {\n            this.onSetInvalid();\n\n            this.app.setMode(null)\n                .setDefaultClass()\n                .setShape(null)\n                .clear()\n                .hidePreview();\n            this.deselectAll();\n        }\n    }\n\n\n    public onToHtmlButtonClick(e) {\n        var answers = this.app.getAreas();\n        var scale = 1;\n        if (this.app.state.image.width > this.app.domElements.img.clientWidth) {\n            scale = Number((this.app.state.image.width / this.app.domElements.img.clientWidth).toFixed(3));\n        } else {\n            scale = 1;\n        }\n        var resultsAnswers: any[] = [];\n        answers.forEach(function (item, i, arr) {\n            var imgMapData = item.toJSON();\n            imgMapData.coords.forEach(function (item, i, arr) {\n                imgMapData.coords[i] = Math.round(item * scale);\n            });\n            resultsAnswers.push({\n                body: item.attributes.title,\n                is_right: (item.attributes.alt == '1') ? true : false,\n                img_map: JSON.stringify(imgMapData)\n            });\n        });\n\n        this.onData(resultsAnswers, this.app.getAreasJSON(scale));\n\n        // Generate html code only\n        e.preventDefault();\n    }\n\n\n    public onEditButtonClick(e) {\n        e.preventDefault();\n\n        this.onSetInvalid();\n\n        if (this.app.getMode() === 'editing') {\n            this.app.setMode(null)\n                .setDefaultClass()\n                .deselectAll();\n            this.deselectAll();\n            Utils.show(this.app.domElements.svg);\n        } else {\n            this.app.setShape(null)\n                .setMode('editing')\n                .setEditClass();\n            this.selectOne(this.edit);\n        }\n        this.app.hidePreview();\n    }\n\n    public onData(answers: any[], areas: any) {\n\n    }\n\n    public onSetInvalid() {\n\n    }\n\n    public onShowHelpButtonClick(e) {\n        this.app.help.show();\n        e.preventDefault();\n    }\n}\n","import {Utils} from './utils.class';\n// import {Info} from './info.class';\n// import {Code} from './code.class';\nimport {Help} from './help.class';\nimport {AreaFactory} from './area-factory.class';\nimport {AppEvent} from './app-event.class';\nimport {Buttons} from './buttons.class';\n\nexport class CursorPositionInfo {\n    private _coords_info: any = Utils.id('coords');\n\n    public set(coords: any) {\n        this._coords_info.innerHTML = 'x: ' + coords.x + ', ' + 'y: ' + coords.y;\n    }\n\n    public empty() {\n        this._coords_info.innerHTML = '';\n    }\n}\n\n\nexport class EditorApp {\n    public domElements: any = {\n        wrapper: Utils.id('wrapper'),\n        svg: Utils.id('svg'),\n        img: Utils.id('img'),\n        container: Utils.id('image'),\n        map: null,\n        editor: Utils.id('editor')\n    };\n\n    public img: any = Utils.id('img');\n\n    public state: any = {\n        offset: {\n            x: 0,\n            y: 0\n        },\n        appMode: null, // drawing || editing || preview\n        currentType: null,\n        editType: null,\n        newArea: null,\n        selectedArea: null,\n        areas: [],\n        events: [],\n        isDraw: false,\n        image: {\n            src: null,\n            filename: null,\n            width: 0,\n            height: 0\n        }\n    };\n\n    public static KEYS: any = {\n        F1: 112,\n        ESC: 27,\n        TOP: 38,\n        BOTTOM: 40,\n        LEFT: 37,\n        RIGHT: 39,\n        DELETE: 46,\n        I: 73,\n        S: 83,\n        C: 67\n    };\n\n    public cursor_position_info: CursorPositionInfo;\n    // public info: Info = new Info();\n    // public code: Code = new Code();\n    public help: Help = new Help();\n    public buttons: Buttons;\n\n    public filename: any = null;\n\n    constructor() {\n        /* Get offset value */\n        window.addEventListener('resize', this.recalcOffsetValues.bind(this), false);\n\n        /* Disable selection */\n        this.domElements.container.addEventListener('mousedown', (e) => {\n            e.preventDefault();\n        }, false);\n\n        /* Disable image dragging */\n        this.domElements.img.addEventListener('dragstart', (e) => {\n            e.preventDefault();\n        }, false);\n\n        this.cursor_position_info = new CursorPositionInfo();\n\n        this.domElements.container.addEventListener('mousemove', (e) => {\n            this.cursor_position_info.set(Utils.getRightCoords(e.pageX, e.pageY));\n        }, false);\n\n        this.domElements.container.addEventListener('mouseleave', () => {\n            this.cursor_position_info.empty();\n        }, false);\n\n\n        this.domElements.container.addEventListener('mousedown', this.onSvgMousedown.bind(this), false);\n        this.domElements.container.addEventListener('click', this.onSvgClick.bind(this), false);\n        this.domElements.container.addEventListener('dblclick', this.onAreaDblClick.bind(this), false);\n\n        this.domElements.editor.addEventListener('keydown', this.onDocumentKeyDown.bind(this), false);\n\n        this.buttons = new Buttons(this);\n    }\n\n    public recalcOffsetValues() {\n        this.state.offset = Utils.getOffset(this.domElements.container);\n    }\n\n    /* Add mousedown event for svg */\n    public onSvgMousedown(e: any) {\n        if (this.state.appMode === 'editing') {\n            if (e.target.parentNode.tagName === 'g') {\n                // this.info.unload();\n                this.state.selectedArea = e.target.parentNode.obj;\n                this.deselectAll();\n                this.state.selectedArea.select();\n                this.state.selectedArea.delta = {\n                    'x': e.pageX,\n                    'y': e.pageY\n                };\n\n                if (e.target.classList.contains('helper')) {\n                    var helper = e.target;\n                    this.state.editType = helper.action;\n\n                    if (helper.n >= 0) { // if typeof selected_area == polygon\n                        this.state.selectedArea.selected_point = helper.n;\n                    }\n\n                    this.addEvent(this.domElements.container,\n                        'mousemove',\n                        this.state.selectedArea.onProcessEditing.bind(this.state.selectedArea))\n                        .addEvent(this.domElements.container,\n                            'mouseup',\n                            this.state.selectedArea.onStopEditing.bind(this.state.selectedArea));\n                } else if (e.target.tagName === 'rect' || e.target.tagName === 'circle' || e.target.tagName === 'polygon') {\n                    this.state.editType = 'move';\n                    this.addEvent(this.domElements.container,\n                        'mousemove',\n                        this.state.selectedArea.onProcessEditing.bind(this.state.selectedArea))\n                        .addEvent(this.domElements.container,\n                            'mouseup',\n                            this.state.selectedArea.onStopEditing.bind(this.state.selectedArea));\n                }\n            } else {\n                this.deselectAll();\n                // this.info.unload();\n            }\n        }\n    }\n\n    /* Add click event for svg */\n    public onSvgClick(e) {\n        if (this.state.appMode === 'drawing' && !this.state.isDraw && this.state.currentType) {\n            // this.code.hide();\n            this.setIsDraw(true);\n\n            this.state.newArea = AreaFactory.CONSTRUCTORS[this.state.currentType].createAndStartDrawing(\n                Utils.getRightCoords(e.pageX, e.pageY)\n            );\n        }\n    }\n\n    /* Add dblclick event for svg */\n    public onAreaDblClick(e) {\n        if (this.state.appMode === 'editing') {\n            if (e.target.tagName === 'rect' || e.target.tagName === 'circle' || e.target.tagName === 'polygon') {\n                this.state.selectedArea = e.target.parentNode.obj;\n                // this.info.load(this.state.selectedArea, e.pageX, e.pageY);\n            }\n        }\n    }\n\n    /* Add keydown event for document */\n    public onDocumentKeyDown(e: any) {\n        var ctrlDown = e.ctrlKey || e.metaKey; // PC || Mac\n\n        switch (e.keyCode) {\n            case EditorApp.KEYS.F1:\n                this.help.show();\n                e.preventDefault();\n\n                break;\n\n            case EditorApp.KEYS.ESC:\n                this.help.hide();\n                if (this.state.isDraw) {\n                    this.state.isDraw = false;\n                    this.state.newArea.remove();\n                    this.state.areas.pop();\n                    this.removeAllEvents();\n                } else if (this.state.appMode === 'editing') {\n                    this.state.selectedArea.redraw();\n                    this.removeAllEvents();\n                }\n\n                break;\n\n            case EditorApp.KEYS.TOP:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    this.state.selectedArea.setParams(\n                        this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(0, -1))\n                    );\n                    e.preventDefault();\n                }\n\n                break;\n\n            case EditorApp.KEYS.BOTTOM:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    this.state.selectedArea.setParams(\n                        this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(0, 1))\n                    );\n                    e.preventDefault();\n                }\n                break;\n\n            case EditorApp.KEYS.LEFT:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    this.state.selectedArea.setParams(\n                        this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(-1, 0))\n                    );\n                    e.preventDefault();\n                }\n\n                break;\n\n            case EditorApp.KEYS.RIGHT:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    this.state.selectedArea.setParams(\n                        this.state.selectedArea.dynamicEdit(this.state.selectedArea.move(1, 0))\n                    );\n                    e.preventDefault();\n                }\n\n                break;\n\n            case EditorApp.KEYS.DELETE:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    this.removeObject(this.state.selectedArea);\n                    this.state.selectedArea = null;\n                    // this.info.unload();\n                }\n\n                break;\n\n            case EditorApp.KEYS.I:\n                if (this.state.appMode === 'editing' && this.state.selectedArea) {\n                    var params = this.state.selectedArea.params,\n                        x = params.x || params.cx || params[0],\n                        y = params.y || params.cy || params[1];\n\n                    // this.info.load(this.state.selectedArea, x + this.getOffset('x'), y + this.getOffset('y'));\n                }\n\n                break;\n\n            case EditorApp.KEYS.C:\n                if (this.state.appMode === 'editing' && this.state.selectedArea && ctrlDown) {\n                    var Constructor = AreaFactory.CONSTRUCTORS[area_params.type],\n                        area_params = this.state.selectedArea.toJSON();\n\n                    if (Constructor) {\n                        Constructor.createFromSaved(area_params);\n                        this.state.selectedArea.setParams(this.state.selectedArea.move(10, 10));\n                        this.state.selectedArea.redraw();\n                    }\n                }\n\n                break;\n        }\n    }\n\n\n    public hide() {\n        Utils.hide(this.domElements.container);\n        return this;\n    }\n\n    public show() {\n        Utils.show(this.domElements.container);\n        return this;\n    }\n\n    public setDimensions(width, height) {\n        this.domElements.svg.setAttribute('width', width);\n        this.domElements.svg.setAttribute('height', height);\n        this.domElements.container.style.width = width + 'px';\n        this.domElements.container.style.height = height + 'px';\n        return this;\n    }\n\n    public onImageLoaded(state: any) {\n\n    }\n\n    public loadImage(url, width) {\n        this.domElements.img.src = url;\n        this.state.image.src = url;\n        this.state.image.width = width;\n        var tmp_arr = url.split('/');\n        this.filename = tmp_arr[tmp_arr.length - 1];\n        this.domElements.img.onload = () => {\n            this.show()\n                .setDimensions(this.domElements.img.width, this.domElements.img.height)\n                .recalcOffsetValues();\n\n            this.onImageLoaded(this.state);\n        };\n\n        this.setFilename(this.filename);\n\n        this.preview();\n\n        return this;\n    }\n\n    public preview() {\n        this.domElements.img.setAttribute('usemap', '#map');\n        this.domElements.map = document.createElement('map');\n        this.domElements.map.setAttribute('name', 'map');\n        this.domElements.container.appendChild(this.domElements.map);\n\n        // Utils.hide(this.domElements.svg);\n        // this.map.innerHTML = this.app.getHTMLCode();\n\n//     return function () {\n//         info.unload();\n//         app.onEditingProcesshape(null);\n//         Utils.hide(domElements.svg);\n//         map.innerHTML = app.getHTMLCode();\n//         code.print();\n//         return this;\n//     };\n    }\n\n    public hidePreview() {\n        Utils.show(this.domElements.svg);\n        this.domElements.map.innerHTML = '';\n        return this;\n    }\n\n    public addNodeToSvg(node) {\n        this.domElements.svg.appendChild(node);\n        return this;\n    }\n\n    public removeNodeFromSvg(node) {\n        this.domElements.svg.removeChild(node);\n        return this;\n    }\n\n    public getOffset(arg) {\n        switch (arg) {\n            case 'x':\n            case 'y':\n                return this.state.offset[arg];\n        }\n    }\n\n    public clear() {\n        //remove all areas\n        this.state.areas.length = 0;\n        while (this.domElements.svg.childNodes[0]) {\n            this.domElements.svg.removeChild(this.domElements.svg.childNodes[0]);\n        }\n        // this.code.hide();\n        // this.info.unload();\n        return this;\n    }\n\n    public removeObject(obj) {\n        Utils.foreach(this.state.areas, (x, i) => {\n            if (x === obj) {\n                this.state.areas.splice(i, 1);\n            }\n        });\n        obj.remove();\n        this.state.areas.forEach(function (x, i) {\n            switch (x.type) {\n                case 'rectangle':\n                    x._helpers.number.setNumber(i);\n                    break;\n                case 'polygon':\n                    x._helpers[0].setNumber(i);\n                    break;\n                case 'circle':\n                    x._helpers.number.setNumber(i);\n                    break;\n            }\n        })\n        return this;\n    }\n\n    public deselectAll() {\n        Utils.foreach(this.state.areas, function (x) {\n            x.deselect();\n        });\n        return this;\n    }\n\n    public getIsDraw() {\n        return this.state.isDraw;\n    }\n\n    public setIsDraw(arg) {\n        this.state.isDraw = arg;\n        return this;\n    }\n\n    public setMode(arg) {\n        this.onSetMode(arg);\n        this.state.appMode = arg;\n        return this;\n    }\n\n    public getMode() {\n        return this.state.appMode;\n    }\n\n    public onSetMode(mode) {\n\n    }\n\n    public onCurrentType(type) {\n\n    }\n\n    public setShape(arg) {\n        this.state.currentType = arg;\n        this.onCurrentType(arg);\n        return this;\n    }\n\n    public getShape() {\n        return this.state.currentType;\n    }\n\n    public addObject(object) {\n        this.state.areas.push(object);\n        return this;\n    }\n\n    public getNewArea() {\n        return this.state.newArea;\n    }\n\n    public resetNewArea() {\n        this.state.newArea = null;\n        return this;\n    }\n\n    public getSelectedArea() {\n        return this.state.selectedArea;\n    }\n\n    setSelectedArea(obj) {\n        this.state.selectedArea = obj;\n        return this;\n    }\n\n    public getEditType() {\n        return this.state.editType;\n    }\n\n    public setFilename(str) {\n        this.state.image.filename = str;\n        return this;\n    }\n\n    public setEditClass() {\n        this.domElements.container.classList.remove('draw');\n        this.domElements.container.classList.add('edit');\n\n        return this;\n    }\n\n    public setDrawClass() {\n        this.domElements.container.classList.remove('edit');\n        this.domElements.container.classList.add('draw');\n\n        return this;\n    }\n\n    public setDefaultClass() {\n        this.domElements.container.classList.remove('edit');\n        this.domElements.container.classList.remove('draw');\n\n        return this;\n    }\n\n    public addEvent(target, eventType, func) {\n        this.state.events.push(new AppEvent(target, eventType, func));\n        return this;\n    }\n\n    public removeAllEvents() {\n        Utils.foreach(this.state.events, function (x) {\n            x.remove();\n        });\n        this.state.events.length = 0;\n        return this;\n    }\n\n    // public loadJSON(str, width) {\n    //     var obj = JSON.parse(str);\n    //     this.loadImage(obj.img, width);\n    //     return\n    // }\n\n    public getAreas() {\n        return this.state.areas;\n    }\n\n    public getAreasJSON(scale) {\n        if (scale === undefined) {\n            scale = 1;\n        }\n        var obj = {\n            areas: [],\n            img: this.state.image.src\n        };\n        Utils.foreach(this.state.areas, function (x) {\n            var data = x.toJSON();\n            if (data.type != 'polygon') {\n                data.coords.forEach(function (item, i, arr) {\n                    data.coords[i] = (Math.round(item * scale));\n                });\n            }\n            obj.areas.push(data);\n        });\n        return JSON.stringify(obj);\n    }\n\n    public getHTMLCode(arg) {\n        var html_code = '';\n        if (arg) {\n            if (!this.state.areas.length) {\n                return '0 objects';\n            }\n            html_code += Utils.encode('<img src=\"' + this.state.image.filename + '\" alt=\"\" usemap=\"#map\" />') +\n                '<br />' + Utils.encode('<map name=\"map\">') + '<br />';\n            Utils.foreachReverse(this.state.areas, function (x) {\n                html_code += '&nbsp;&nbsp;&nbsp;&nbsp;' + Utils.encode(x.toString()) + '<br />';\n            });\n            html_code += Utils.encode('</map>');\n        } else {\n            Utils.foreachReverse(this.state.areas, function (x) {\n                html_code += x.toString();\n            });\n        }\n        return html_code;\n    }\n}","import {Component, Input, OnInit, Output, OnChanges, SimpleChanges, EventEmitter, forwardRef} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR, NG_VALIDATORS, FormControl} from '@angular/forms';\nimport {EditorApp} from './editor-app.class';\nimport {Utils} from './utils.class';\nimport {Area} from './area.class';\nimport {AreaFactory} from './area-factory.class';\n\n\n@Component({\n    selector: '[ng2-image-map-editor]',\n    template: `\n        <div id=\"wrapper\">\n            <header id=\"header\">\n                <nav id=\"nav\" class=\"clearfix\">\n                    <ul class=\"float-left\">\n                        <li id=\"to_html\">\n                            <a [class.btn-round-sm-primary]=\"!valid\" class=\"btn-round-sm-default\" href=\"#\"\n                               title=\"{{labels.save_answers}}\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                                    <g>\n                                        <g>\n                                            <g>\n                                                <path d=\"M305,148c11.046,0,20-8.954,20-20V90c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20v38\n                                                    C285,139.046,293.954,148,305,148z\"/>\n                                                <path d=\"M492,352c11.046,0,20-8.954,20-20V102c0-5.304-2.107-10.392-5.858-14.142l-82-82C420.392,2.107,415.304,0,410,0H80\n                                                    C35.888,0,0,35.888,0,80v352c0,44.112,35.888,80,80,80h352c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20\n                                                    c-11.046,0-20,8.954-20,20c0,22.056-17.944,40-40,40V312c0-11.046-8.954-20-20-20H100c-11.046,0-20,8.954-20,20v160\n                                                    c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40v118c0,33.084,26.916,60,60,60h201c33.084,0,60-26.916,60-60V40h0.716\n                                                    L472,110.284V332C472,343.046,480.954,352,492,352z M120,332h272v140H120V332z M361,158c0,11.028-8.972,20-20,20H140\n                                                    c-11.028,0-20-8.972-20-20V40h241V158z\"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </a>\n                        </li>\n                        <li><a [class.btn-round-sm-default]=\"currentType != 'rectangle'\"\n                               [class.btn-round-sm-primary]=\"currentType == 'rectangle'\" id=\"rectangle\" href=\"#\"><img\n                                [src]=\"icons.rectangle\"></a></li>\n                        <li><a [class.btn-round-sm-default]=\"currentType != 'circle'\"\n                               [class.btn-round-sm-primary]=\"currentType == 'circle'\" href=\"#\" id=\"circle\"><img\n                                [src]=\"icons.circle\"></a></li>\n                        <li><a [class.btn-round-sm-default]=\"currentType != 'polygon'\"\n                               [class.btn-round-sm-primary]=\"currentType == 'polygon'\" href=\"#\" id=\"polygon\"><img\n                                [src]=\"icons.polygon\"></a></li>\n                    </ul>\n                    <ul class=\"float-right\">\n                        <li class=\"btn\" id=\"edit\">\n                            <a [class.btn-round-sm-default]=\"!isEditMode\" title=\"{{labels.edit}}\"\n                               [class.btn-round-sm-primary]=\"isEditMode\" href=\"#\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                                    <g>\n                                        <g>\n                                            <path d=\"M481.996,30.006C462.647,10.656,436.922,0,409.559,0c-27.363,0-53.089,10.656-72.438,30.005L50.826,316.301\n                                            c-2.436,2.436-4.201,5.46-5.125,8.779L0.733,486.637c-1.939,6.968,0.034,14.441,5.163,19.542c3.8,3.78,8.892,5.821,14.106,5.821\n                                            c1.822,0,3.66-0.25,5.463-0.762l161.557-45.891c6.816-1.936,12.1-7.335,13.888-14.192c1.788-6.857-0.186-14.148-5.189-19.167\n                                            L93.869,329.827L331.184,92.511l88.258,88.258L237.768,361.948c-7.821,7.8-7.838,20.463-0.038,28.284\n                                            c7.799,7.822,20.464,7.838,28.284,0.039l215.98-215.392C501.344,155.53,512,129.805,512,102.442\n                                            C512,75.079,501.344,49.354,481.996,30.006z M143.395,436.158L48.827,463.02l26.485-95.152L143.395,436.158z M453.73,146.575\n                                            l-5.965,5.949l-88.296-88.297l5.938-5.938C377.2,46.495,392.88,40,409.559,40c16.679,0,32.358,6.495,44.152,18.29\n                                            C465.505,70.083,472,85.763,472,102.442C472,119.121,465.505,134.801,453.73,146.575z\"/>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </a>\n                        </li>\n                        <li class=\"btn-round-sm-default\" id=\"clear\">\n                            <a class=\"btn-round-sm-default\" href=\"#\" title=\"{{labels.clear}}\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                                    <g>\n                                        <g>\n                                            <g>\n                                                <path d=\"M472,83H351V60c0-33.084-26.916-60-60-60h-70c-33.084,0-60,26.916-60,60v23H40c-11.046,0-20,8.954-20,20s8.954,20,20,20\n                                                h20.712l24.374,315.987c0.007,0.092,0.015,0.185,0.023,0.278c1.816,19.924,10.954,38.326,25.73,51.816\n                                                C125.615,504.571,144.771,512,164.778,512h182.444c41.667,0,75.917-31.032,79.669-72.183\n                                                c1.003-11.001-7.101-20.731-18.101-21.734c-11.011-1.003-20.731,7.101-21.734,18.101C385.195,456.603,368.07,472,347.222,472\n                                                H164.778c-20.777,0-37.875-15.571-39.823-36.242L100.831,123h310.338l-17.082,221.462c-0.849,11.013,7.39,20.629,18.403,21.479\n                                                c0.524,0.04,1.043,0.06,1.56,0.06c10.347,0,19.11-7.974,19.919-18.463L451.288,123H472c11.046,0,20-8.954,20-20\n                                                S483.046,83,472,83z M311,83H201V60c0-11.028,8.972-20,20-20h70c11.028,0,20,8.972,20,20V83z\"/>\n                                                <path d=\"M165.127,163.019c-11.035,0.482-19.59,9.818-19.108,20.854l10,228.933c0.469,10.738,9.322,19.128,19.966,19.128\n                                                c0.294,0,0.591-0.006,0.888-0.02c11.035-0.482,19.59-9.818,19.108-20.854l-10-228.934\n                                                C185.499,171.092,176.145,162.523,165.127,163.019z\"/>\n                                                <path d=\"M326.019,182.127l-10,228.934c-0.482,11.035,8.073,20.372,19.108,20.854c0.297,0.013,0.593,0.02,0.888,0.02\n                                                c10.643,0,19.497-8.39,19.966-19.128l10-228.933c0.482-11.035-8.073-20.372-19.108-20.854\n                                                C335.856,162.527,326.501,171.092,326.019,182.127z\"/>\n                                                <path d=\"M236,183v228.933c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20V183c0-11.046-8.954-20-20-20S236,171.954,236,183z\"/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </a>\n                        </li>\n                        <li id=\"show_help\">\n                            <a class=\"btn-round-sm-default\" href=\"#\">\n                                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                                     viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\"\n                                     xml:space=\"preserve\">\n                        <g>\n                            <g>\n                                <g>\n                                    <circle cx=\"256\" cy=\"127\" r=\"20\"/>\n                                    <path d=\"M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256\n                                    s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512c46.813,0,92.618-12.758,132.461-36.893\n                                    c9.448-5.724,12.467-18.022,6.744-27.469c-5.723-9.448-18.021-12.467-27.468-6.744C334.144,461.244,295.506,472,256,472\n                                    c-119.103,0-216-96.897-216-216S136.897,40,256,40s216,96.897,216,216c0,42.589-12.665,84.044-36.627,119.884\n                                    c-6.139,9.182-3.672,21.603,5.511,27.742c9.183,6.138,21.603,3.673,27.742-5.51C497.001,355.674,512,306.53,512,256\n                                    C512,187.62,485.371,123.333,437.02,74.98z\"/>\n                                    <path d=\"M256,187c-11.046,0-20,8.954-20,20v178c0,11.046,8.954,20,20,20s20-8.954,20-20V207C276,195.954,267.046,187,256,187z\"/>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                            </a>\n                        </li>\n                    </ul>\n                </nav>\n                <div id=\"coords\"></div>\n                <div id=\"debug\"></div>\n            </header>\n            <div id=\"image_wrapper\">\n                <div id=\"image\">\n                    <img src=\"\" alt=\"#\" id=\"img\"/>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.2\" baseProfile=\"tiny\" id=\"svg\"></svg>\n                </div>\n            </div>\n        </div>\n\n        <!-- From html block -->\n        <div id=\"from_html_wrapper\">\n            <form id=\"from_html_form\">\n                <h5>Loading areas</h5>\n                <span class=\"close_button\" title=\"close\"></span>\n                <p>\n                    <label for=\"code_input\">Enter your html code:</label>\n                    <textarea id=\"code_input\"></textarea>\n                </p>\n                <button id=\"load_code_button\">Load</button>\n            </form>\n        </div>\n        <!-- Get image form -->\n\n        <!-- Help block    {{''|translate}} -->\n        <div id=\"overlay\"></div>\n        <div id=\"help\">\n            <span class=\"close_button\" title=\"close\"></span>\n            <div class=\"txt\">\n                <section>\n                    <h2>{{labels.drawing_mode}}</h2>\n                    <p><span class=\"key\">ENTER</span> &mdash; {{labels.drawing_mode_enter}}</p>\n                    <p><span class=\"key\">ESC</span> &mdash; {{labels.drawing_mode_esc}}</p>\n                    <p><span class=\"key\">SHIFT</span> &mdash; {{labels.drawing_mode_shift}}</p>\n                </section>\n                <section>\n                    <h2>{{labels.editing_mode}}</h2>\n                    <p><span class=\"key\">DELETE</span> &mdash; {{labels.editing_mode_delete}}</p>\n                    <p><span class=\"key\">ESC</span> &mdash; {{labels.editing_mode_esc}}</p>\n                    <p><span class=\"key\">SHIFT</span> &mdash; {{labels.editing_mode_shift}}</p>\n                    <p><span class=\"key\">&uarr;</span> &mdash; {{labels.editing_mode_up}}</p>\n                    <p><span class=\"key\">&darr;</span> &mdash; {{labels.editing_mode_down}}</p>\n                    <p><span class=\"key\">&larr;</span> &mdash; {{labels.editing_mode_left}}</p>\n                    <p><span class=\"key\">&rarr;</span> &mdash; {{labels.editing_mode_right}}</p>\n                </section>\n            </div>\n        </div>`,\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => Ng2ImageMapEditorDirective),\n            multi: true\n        },\n        {\n            provide: NG_VALIDATORS,\n            useExisting: forwardRef(() => Ng2ImageMapEditorDirective),\n            multi: true\n        }\n    ]\n})\nexport class Ng2ImageMapEditorDirective implements ControlValueAccessor, OnChanges, OnInit {\n    @Input('answers') answers: any[] = [];\n    @Input('src') mainImageSrc: string;\n    @Input('width') mainImageWidth: number;\n\n    public valid: boolean = true;\n    public isEditMode: boolean = false;\n    public currentType: string = '';\n\n    public icons: any = {\n        rectangle: '/src/assets/img/test/rec.svg',\n        circle: '/src/assets/img/test/cir.svg',\n        polygon: '/src/assets/img/test/pol.svg'\n    };\n\n    public labels: any = {};\n\n    public static globalLabels: any = {\n        save_answers: 'Save answers',\n        edit: 'Edit',\n        clear: 'Clear',\n        drawing_mode: 'Drawing mode (rectangle / circle / polygon)',\n        drawing_mode_enter: 'stop polygon drawing (or click on first helper)',\n        drawing_mode_esc: 'cancel drawing of a new area',\n        drawing_mode_shift: 'square drawing in case of a rectangle and right angle drawing in case of a polygon',\n        editing_mode: 'Editing mode',\n        editing_mode_delete: 'remove a selected area',\n        editing_mode_esc: 'cancel editing of a selected area',\n        editing_mode_shift: 'edit and save proportions for rectangle',\n        editing_mode_up: 'move a selected area up',\n        editing_mode_down: 'move a selected area down',\n        editing_mode_left: 'move a selected area to the left',\n        editing_mode_right: 'move a selected area to the right'\n    };\n\n    public app: EditorApp;\n\n    public _value: string;\n    private _parsedValue: any;\n\n    private _loadedImage: string = '';\n\n    @Output() onAnswersUpdated = new EventEmitter();\n\n    constructor() {\n    }\n\n    validate(c: FormControl) {\n        if (this.valid) {\n            return null;\n        }\n        return {\n            required: true\n        };\n    }\n\n    propagateChange = (_: any) => {\n    };\n\n    registerOnChange(fn) {\n        this.propagateChange = fn;\n    }\n\n    registerOnTouched() {\n        // console.log('registerOnTouched');\n    }\n\n    writeValue(value: string) {\n        this._value = value;\n\n        if (this._value) {\n            this._parsedValue = JSON.parse(this._value);\n        }\n        if (this._value && this.mainImageWidth && this.app) {\n            if (this._loadedImage != this._parsedValue.img) {\n                this._loadedImage = this._parsedValue.img;\n                this.app.loadImage(this._parsedValue.img, this.mainImageWidth);\n                // console.log('writeValue loadImage', this._parsedValue.img, this.mainImageWidth);\n            }\n        }\n    }\n\n    public ngOnInit() {\n        this.labels = Ng2ImageMapEditorDirective.globalLabels;\n        this.app = new EditorApp();\n        Utils.app = this.app;\n        Area.app = this.app;\n\n        this.app.buttons.onSetInvalid = () => {\n            this.valid = false;\n            this.propagateChange([]);\n        };\n        this.app.buttons.onData = (answers: any[], areas: any) => {\n            this.valid = true;\n            this.propagateChange(areas);\n            this.answers = answers;\n            this.onAnswersUpdated.emit(answers);\n        };\n        this.app.onCurrentType = (type: string) => {\n            this.currentType = type;\n        };\n        this.app.onSetMode = (mode: string) => {\n            this.isEditMode = mode == 'editing';\n        };\n        this.app.onImageLoaded = (state: any) => {\n            // console.log('onImageLoaded');\n\n            if (this._value) {\n                var scale = 1;\n                if (state.image.width > this.app.domElements.img.clientWidth) {\n                    scale = Number((state.image.width / this.app.domElements.img.clientWidth).toFixed(3));\n                } else {\n                    scale = 1;\n                }\n                // console.log('onImageLoaded', this._parsedValue, this.app.img.width, this.app.domElements.img.clientWidth);\n                // console.log('scale', scale );\n\n                // console.log('this.answers', this.answers);\n\n                if (this._parsedValue && this._parsedValue.areas) {\n                    this._parsedValue.areas.forEach((x, i) => {\n                        if (x.type in AreaFactory.CONSTRUCTORS) {\n                            //adaptation coordinates in screen resolution\n                            x.coords.forEach((item, i, arr) => {\n                                x.coords[i] = Math.round(item / scale);\n                            });\n\n                            AreaFactory.CONSTRUCTORS[x.type].createFromSaved({\n                                coords: x.coords,\n                                href: x.href,\n                                alt: (this.answers[i] != undefined && this.answers[i].is_right) ? '1' : '0',//x.alt,\n                                title: (this.answers[i] != undefined) ? this.answers[i].body : x.title,\n                                number: i\n                            });\n                        }\n                    });\n                }\n            }\n        };\n\n        if (this.mainImageSrc && this.mainImageWidth && this._loadedImage != this.mainImageSrc) {\n            this._loadedImage = this.mainImageSrc;\n            this.app.loadImage(this.mainImageSrc, this.mainImageWidth);\n            // console.log('ngOnInit loadImage', this.mainImageSrc, this.mainImageWidth);\n        }\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (this.mainImageSrc && this.mainImageWidth && this.app && this._loadedImage != this.mainImageSrc) {\n            this._loadedImage = this.mainImageSrc;\n            this.app.loadImage(this.mainImageSrc, this.mainImageWidth);\n            // console.log('ngOnChanges loadImage', this.mainImageSrc, this.mainImageWidth);\n        }\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {Ng2ImageMapEditorDirective} from './ng2-image-map-editor.directive';\n\n@NgModule({\n    imports: [],\n    declarations: [\n        Ng2ImageMapEditorDirective\n    ],\n    exports: [\n        Ng2ImageMapEditorDirective\n    ]\n})\nexport class Ng2ImageMapEditorModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["EventEmitter","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","i0.ɵɵelementStart","i0.ɵɵnamespaceSVG","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵnamespaceHTML","i0.ɵɵtext","i0.ɵɵadvance","i0.ɵɵclassProp","i0.ɵɵpropertyInterpolate","i0.ɵɵproperty","i0.ɵɵtextInterpolate","i0.ɵɵtextInterpolate1","Component","Input","Output","NgModule"],"mappings":"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"}